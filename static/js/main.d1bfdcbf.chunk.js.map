{"version":3,"sources":["assets/images/loading.svg","assets/images/user-story-graphic.svg","components/Button.js","components/Modal.js","components/Vote.js","components/StoriesList.js","modules/LoadingIndicator.js","modules/Context.js","hooks/useAuth.js","components/Notifications.js","components/Navigation.js","components/Pagination.js","components/Dropdown.js","utils/Lists.js","pages/Home.js","components/FormError.js","components/LanguageDropdown.js","components/SocialMediaLinks.jsx","components/AuthWrapper.jsx","pages/Login.js","pages/Register.js","pages/ForgotPassword.js","pages/ResetPassword.js","modules/TitleSearch.js","components/Dragdrop.js","pages/NewStory.js","components/Comments.js","components/Timeline.js","pages/Story.js","pages/MyStories.js","components/EditableLabel.jsx","components/UserProfile.jsx","pages/MyProfile.js","pages/Page404.js","pages/Profile.js","pages/ChangePassword.js","pages/Policies.js","pages/Notifications.js","modules/ContextReducer.js","components/Footer.jsx","App.js","serviceWorker.js","modules/i18n.js","index.js","assets/images/user-story-logo.svg","assets/images/logo-coloured.png"],"names":["module","exports","Button","children","className","action","type","onClick","disabled","Modal","props","isActive","cancelText","okText","onCancel","onOk","showButtons","active","handleClose","content","Vote","story","userId","localStorage","getItem","useState","followers","setFollowers","length","votes","setVotes","voteClicked","setVoteClicked","voted","setVoted","isOpen","setIsOpen","togglePopup","useEffect","map","follower","id","includes","updateVote","a","followerIds","JSON","stringify","filter","axios","post","apiURL","query","withCredentials","response","data","updateUserStory","userStory","voters","src","username","alt","to","StoriesList","stories","state","product","key","html","user_story_status","Status","Name","navigate","Title","Description","replace","substring","author","Category","user_story_comments","LoadingIndicator","require","Context","createContext","useAuth","dispatch","useContext","registerUser","credentials","catch","err","message","payload","messages","login","logout","clear","forgotPassword","reply","resetPassword","Notifications","notifications","setNotifications","notificationsDropdownState","setNotificationsDropdownState","notificationCount","setNotificationCount","notificationsSeen","setNotificationsSeen","notificationsDropdownContainer","useRef","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","unseenNotifications","userStoryNotifications","notification","seenBy","seen","fetchNotifications","auth","ref","link","forEach","push","variables","Navigation","userName","userEmail","userDropdownState","setUserDropdownState","userDropdownContainer","handleLogout","eosIcon","Pagination","getPage","storyCount","status","currNumber","setCurrNumber","pages","setPages","n","Math","ceil","Array","keys","slice","find","page","ele","Dropdown","title","reference","curr","setCurr","itemList","dropdownState","setDropdownState","item","Lists","stateList","icon","sortByList","Home","setPage","setStoryCount","modal","setModal","policyUpdate","setPolicyUpdate","currentStateSelected","selectState","setStories","productDropdownContainer","sortDropdownContainer","categoryDropdownContainer","setProduct","sort","setSort","category","setCategory","products","setProducts","categories","setCategories","promiseInProgress","usePromiseTracker","productQuery","setProductQuery","categoryQuery","setCategoryQuery","useCallback","fetchStories","userStories","trackPromise","userStoriesConnection","aggregate","count","fetchStoryCount","fetchProducts","__type","enumValues","name","fetchCategories","comparatorVotes","b","comparatorComments","updateStories","fetchPolicyNotifications","acceptUpdatedPolicy","handlePolicyUpdateReject","Helmet","show","FormError","class","LanguageDropdown","translator","container","changeLanguage","SocialMediaLinks","rel","href","xmlns","width","height","data-name","d","fill","AuthLeftContainer","t","useTranslation","AuthRightContainer","logo","i18n","eosLogoColoured","AuthWrapper","Login","useForm","register","handleSubmit","errors","showPassword","toggleShowPassword","onSubmit","identifier","password","setItem","user","email","errorCode","htmlFor","required","Register","minLength","value","tc","ForgotPassword","setResponse","ResetPassword","location","useLocation","code","search","passwordConfirmation","Search","listToBeSearched","searchResults","setSearchResults","toBeAppended","i","txtVal","toUpperCase","indexOf","updateSearchResults","result","window","open","Dragdrop","files","setFiles","useDropzone","multiple","onDrop","acceptedFiles","file","Object","assign","preview","URL","createObjectURL","getRootProps","getInputProps","mediaPreview","revokeObjectURL","NewStory","setValue","watch","descriptionError","setDescriptionError","priorities","setPriorities","storiesData","setStoriesData","screenSize","setScreenSize","useLayoutEffect","updateScreenSize","innerWidth","fetchPriorities","fetchStoriesData","undefined","description","priority","autoComplete","defaultValue","editor","ClassicEditor","config","toolbar","onChange","getData","Comments","storyId","registerComment","errorsComment","handleSubmitComment","registerReply","errorsReply","handleSubmitReply","comment","setComment","fetchComments","setFetchComments","commentId","setCommentId","commentReply","setCommentReply","comments","setComments","repliesToggled","setRepliesToggled","viewRepliesToggled","setViewRepliesToggled","addComment","createUserStoryComment","userStoryComment","addCommentReply","addReply","createdAt","concat","user_story_comment_replies","rows","cols","e","Timeline","currentStatus","previousStatuses","setPreviousStatuses","tempList","setStatuses","Story","setStory","editDescription","setDescription","editMode","setEditMode","setEditor","fetchStory","editStory","save","preventDefault","dangerouslySetInnerHTML","__html","MyStories","storyStateSelected","selectStoryState","fetchMyStories","fetchFollowingStories","TextInput","TextArea","EditableLabel","handleInputChange","updateProfile","allowEditing","onKeyPress","ComponentToRender","UserAvatar","avatarURL","UserSettings","UserDetails","Bio","Profession","Company","LinkedIn","Twitter","UserProfile","profilePicture","url","MyProfile","setUser","setUpdated","fetchUserInfo","Page404","viewBox","Profile","profileId","user_stories","ChangePassword","oldPassword","Policies","policies","setPolicies","userStoryPolicies","fetchPolicies","date","ContextReducer","initialState","App","useReducer","Provider","path","default","Footer","Boolean","hostname","match","resources","en","es","commonES","use","initReactI18next","init","lng","keySeparator","interpolation","escapeValue","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","error","console"],"mappings":"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","file":"static/js/main.d1bfdcbf.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/loading.641bf49c.svg\";","module.exports = __webpack_public_path__ + \"static/media/user-story-graphic.b152d872.svg\";","import React from 'react'\n\nconst Button = ({ children, className, action, type, onClick, disabled }) => {\n  return (\n    <button\n      className={className}\n      action={action}\n      type={type}\n      onClick={onClick}\n      disabled={disabled}\n    >\n      {children}\n    </button>\n  )\n}\n\nexport default Button\n","import React from 'react'\n\nimport Button from './Button'\n\nconst Modal = (props) => {\n  const {\n    isActive,\n    children,\n    cancelText,\n    okText,\n    onCancel,\n    onOk,\n    showButtons,\n    active\n  } = props\n\n  return (\n    <>\n      {' '}\n      {isActive ? (\n        <div className='modal'>\n          <div className='modal-card'>\n            <div className='flex flex-row modal-content'>{children}</div>\n            {showButtons && (\n              <div className='flex flex-row flex-space-around'>\n                <Button className='btn btn-default' onClick={onCancel}>\n                  {cancelText || 'Cancel'}\n                </Button>\n                <Button className='btn btn-default' onClick={onOk}>\n                  {okText || 'Accept'}\n                </Button>\n              </div>\n            )}\n          </div>\n        </div>\n      ) : (\n        ''\n      )}\n      {active ? (\n        <>\n          <div className='modal'>\n            <div className='modal-card-vote'>\n              <div className='modal-content'>\n                <span className='close-icon' onClick={props.handleClose}>\n                  &times;\n                </span>\n                {props.content}\n              </div>\n            </div>\n          </div>\n        </>\n      ) : (\n        ''\n      )}\n    </>\n  )\n}\n\nexport default Modal\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport Modal from './Modal'\nimport { Link } from '@reach/router'\n\nconst Vote = (props) => {\n  const { story } = props\n\n  const userId = localStorage.getItem('id')\n\n  const [followers, setFollowers] = useState([])\n\n  const [votes, setVotes] = useState(story.followers.length)\n\n  const [voteClicked, setVoteClicked] = useState(false)\n\n  const [voted, setVoted] = useState(false)\n\n  const [isOpen, setIsOpen] = useState(false)\n\n  const togglePopup = () => {\n    setIsOpen(!isOpen)\n  }\n\n  useEffect(() => {\n    const followerIds = story.followers.map((follower) => follower.id)\n    if (followerIds.includes(userId)) {\n      setVoted(true)\n    }\n  }, [story.followers, userId])\n\n  const updateVote = async (story) => {\n    setVoteClicked(true)\n    let followerIds = story.followers.map((follower) =>\n      JSON.stringify(follower.id)\n    )\n    if (voted) {\n      followerIds = followerIds.filter((id) => id !== JSON.stringify(userId))\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `\n        mutation {\n          updateUserStory(input: {where: {id: \"${story.id}\"} data: {followers: [${followerIds}]}}){\n            userStory{\n              followers {\n                id\n              }\n            }\n          }\n        }\n        `\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setVoteClicked(false)\n      followerIds = response.data.data.updateUserStory.userStory.followers.map(\n        (follower) => JSON.stringify(follower.id)\n      )\n      setFollowers(followerIds)\n      setVoted(false)\n      setVotes((votes) => votes - 1)\n    } else {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `\n        mutation {\n          updateUserStory(input: {where: {id: \"${story.id}\"} data: {followers: [${followers}, \"${userId}\"]}}){\n            userStory{\n              followers {\n                id\n              }\n            }\n          }\n        }\n        `\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setVoteClicked(false)\n      const followerIds = response.data.data.updateUserStory.userStory.followers.map(\n        (follower) => JSON.stringify(follower.id)\n      )\n      setFollowers(followerIds)\n      setVoted(true)\n      setVotes((votes) => votes + 1)\n    }\n  }\n\n  return (\n    <div\n      className={`flex flex-column vote-wrapper ${\n        userId && voted ? 'vote-wrapper-voted' : ''\n      }`}\n    >\n      <div className='votes-count' onClick={togglePopup}>\n        {votes}\n      </div>\n      <div\n        className={`vote-button ${userId ? 'vote-button-clickable' : ''}`}\n        onClick={() => {\n          if (userId) updateVote(story)\n        }}\n        disabled={voteClicked}\n      >\n        <i className='eos-icons'>thumb_up</i>\n        Vote\n      </div>\n      {isOpen && (\n        <Modal\n          content={\n            <>\n              <div>\n                {story.followers.length === 0 ? (\n                  <h1>No Voters For This Story</h1>\n                ) : (\n                  <h1>Voters For This Story</h1>\n                )}\n              </div>\n              {story.followers.map((voters) => (\n                <div className='flex flex-row author-information'>\n                  <div className='user-avatar avatar-vote'>\n                    <img\n                      className='avatar'\n                      src={`https://avatars.dicebear.com/api/jdenticon/${voters.username}.svg`}\n                      alt='Default User Avatar'\n                    ></img>\n                  </div>\n                  <div>\n                    <Link\n                      className='link-vote link link-default'\n                      to={`/profile/${voters.id}`}\n                    >\n                      {voters.username}\n                    </Link>\n                  </div>\n                </div>\n              ))}\n            </>\n          }\n          handleClose={togglePopup}\n          active={isOpen}\n        />\n      )}\n    </div>\n  )\n}\n\nexport default Vote\n","import React from 'react'\nimport { navigate, Link } from '@reach/router'\n\nimport Vote from './Vote'\n\nconst StoriesList = (props) => {\n  const { stories, state, product } = props\n\n  const strip = (html) => {\n    html = html.replace(/<\\s*[^>]*>/gi, '')\n    if (html.length > 80) {\n      html = `${html.substring(0, 80)}...`\n    }\n    return html\n  }\n\n  return (\n    <div className='flex flex-column'>\n      {stories && stories.length ? (\n        stories.map((story, key) => {\n          return story.user_story_status?.Status === state &&\n            (story.product.Name === product || product === 'All') ? (\n            <div className='story' key={key}>\n              <Vote story={story} />\n              <div\n                className='stories-content'\n                onClick={() => {\n                  navigate(`/story/${story.id}`)\n                }}\n              >\n                <h3>{story.Title}</h3>\n                <p>{strip(story.Description)}</p>\n              </div>\n              <div className='story-author story-subcontent'>\n                <div className='user-avatar'>\n                  <img\n                    className='avatar'\n                    src={`https://avatars.dicebear.com/api/jdenticon/${story.author.username}.svg`}\n                    alt='Default User Avatar'\n                  ></img>\n                </div>\n                <div className='flex flex-column'>\n                  <small>Created by</small>\n                  <Link\n                    className='link link-default'\n                    to={`/profile/${story.author.id}`}\n                  >\n                    {story.author.username}\n                  </Link>\n                </div>\n              </div>\n              <div className='flex flex-column story-subcontent'>\n                <small>Category</small>\n                <span className='category-text'>{story.Category}</span>\n              </div>\n              <div className='flex flex-column'>\n                <span className='story-meta'>\n                  <i className='eos-icons'>attachment</i>\n                  {story.user_story_comments.length}\n                </span>\n                <span className='story-meta'>\n                  <i className='eos-icons'>comment</i>\n                  {story.user_story_comments.length}\n                </span>\n              </div>\n            </div>\n          ) : (\n            ''\n          )\n        })\n      ) : (\n        <h3>No stories</h3>\n      )}\n    </div>\n  )\n}\n\nexport default StoriesList\n","import React from 'react'\n\nconst LoadingIndicator = () => {\n  return (\n    <div className='loading-indicator'>\n      <img\n        className='loader-image'\n        src={require('../assets/images/loading.svg')}\n        alt='loader'\n      ></img>\n    </div>\n  )\n}\n\nexport default LoadingIndicator\n","import { createContext } from 'react'\n\nconst Context = createContext()\n\nexport default Context\n","import axios from 'axios'\nimport { apiURL } from '../config.json'\nimport Context from '../modules/Context'\nimport { useContext } from 'react'\n\nconst useAuth = () => {\n  const { dispatch } = useContext(Context)\n\n  const registerUser = async (credentials) => {\n    const { data: payload } = await axios\n      .post(`${apiURL}/auth/local/register`, credentials, {\n        withCredentials: true\n      })\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    return payload\n  }\n\n  const login = async (credentials) => {\n    const { data: payload } = await axios\n      .post(`${apiURL}/auth/local`, credentials, { withCredentials: true })\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    return payload\n  }\n\n  const logout = async () => {\n    await axios\n      .post(`${apiURL}/logout`, {}, { withCredentials: true })\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    localStorage.clear()\n  }\n\n  const forgotPassword = async (credentials) => {\n    const reply = await axios\n      .post(`${apiURL}/auth/forgot-password`, credentials)\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    return reply\n  }\n\n  const resetPassword = async (credentials) => {\n    const reply = await axios\n      .post(`${apiURL}/auth/reset-password`, credentials)\n      .catch((err) => {\n        if (err.message === 'Network Error')\n          dispatch({\n            type: 'ERROR',\n            payload: err.message\n          })\n        else\n          dispatch({\n            type: 'ERROR',\n            payload: err.response.data.message[0].messages[0].message\n          })\n      })\n    return reply\n  }\n\n  return {\n    registerUser,\n    login,\n    logout,\n    forgotPassword,\n    resetPassword\n  }\n}\n\nexport default useAuth\n","import React, { useState, useEffect, useContext, useRef } from 'react'\nimport axios from 'axios'\nimport { Link, navigate } from '@reach/router'\nimport { apiURL } from '../config.json'\nimport Context from '../modules/Context'\n\nconst Notifications = () => {\n  const userId = localStorage.getItem('id')\n\n  const { state } = useContext(Context)\n\n  const [notifications, setNotifications] = useState([])\n\n  const [notificationsDropdownState, setNotificationsDropdownState] = useState(\n    false\n  )\n\n  const [notificationCount, setNotificationCount] = useState(0)\n\n  const [notificationsSeen, setNotificationsSeen] = useState(false)\n\n  const notificationsDropdownContainer = useRef()\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (\n        notificationsDropdownContainer.current &&\n        !notificationsDropdownContainer.current.contains(event.target)\n      ) {\n        setNotificationsDropdownState(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [notificationsDropdownContainer])\n\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n              userStoryNotifications (where: {\n                users: {\n                  id: \"${userId}\"\n                }\n              }){\n                message\n                id\n                users {\n                  id\n                }\n                seenBy {\n                  id\n                }\n                date\n                link\n              }\n            }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      let unseenNotifications = []\n      if (response.data.data.userStoryNotifications) {\n        unseenNotifications = response.data.data.userStoryNotifications\n        unseenNotifications = unseenNotifications.filter((notification) => {\n          const seenBy = notification.seenBy.map((seen) => seen.id)\n          return !seenBy.includes(userId)\n        })\n      }\n      setNotifications(unseenNotifications)\n      setNotificationCount(unseenNotifications.length)\n    }\n    if (userId) {\n      fetchNotifications()\n    }\n  }, [userId, notificationsSeen])\n\n  const markAllNotificationsAsRead = () => {\n    if (notifications) {\n      notifications.forEach(async (notification) => {\n        const seenBy = notification.seenBy.map((seen) => seen.id)\n        if (!seenBy.includes(userId)) {\n          seenBy.push(userId)\n          await axios.post(\n            `${apiURL}/graphql`,\n            {\n              query: `mutation updateNotifications($seenBy: [ID]){\n                updateUserStoryNotification(input: {\n                  where: {\n                    id: \"${notification.id}\"\n                  }\n                  data: {\n                    seenBy: $seenBy\n                  }\n                }) {\n                  userStoryNotification {\n                    id\n                  }\n                }\n              }`,\n              variables: {\n                seenBy: seenBy\n              }\n            },\n            {\n              withCredentials: true\n            }\n          )\n          setNotifications([])\n          setNotificationCount(0)\n          setNotificationsSeen(false)\n        }\n      })\n    }\n  }\n\n  return (\n    state.auth && (\n      <div\n        className='dropdown-container'\n        onClick={() => {\n          setNotificationsDropdownState(!notificationsDropdownState)\n          setNotificationsSeen(true)\n        }}\n        ref={notificationsDropdownContainer}\n      >\n        <i\n          className={`eos-icons ${\n            notificationsDropdownState ? 'eos-icons-open' : ''\n          }`}\n        >\n          notifications\n        </i>\n        <span className='notifications-count'>\n          {' '}\n          {!notificationsSeen && notificationCount > 0 ? notificationCount : ''}\n        </span>\n        <div\n          className={`dropdown notifications-dropdown ${\n            notificationsDropdownState\n              ? 'dropdown-open dropdown-left'\n              : 'dropdown-close dropdown-left'\n          }`}\n        >\n          <ul className='dropdown-list'>\n            {notifications\n              ? notifications.map((notification, key) => (\n                  <li\n                    className='dropdown-element'\n                    onClick={() => navigate(`/${notification.link}`)}\n                    key={key}\n                  >\n                    {notification.message}\n                    <hr className='dropdown-separator' />\n                  </li>\n                ))\n              : ''}\n          </ul>\n          <div className='flex flex-row flex-space-between notifications-options'>\n            {notifications && notifications.length > 0 ? (\n              <>\n                <Link\n                  className='link link-default'\n                  to='#'\n                  onClick={markAllNotificationsAsRead}\n                >\n                  Mark all as read\n                </Link>\n              </>\n            ) : (\n              'No new notifications at the moment'\n            )}\n            <>\n              <Link className='link link-default' to='/notifications'>\n                View all\n              </Link>\n            </>\n          </div>\n        </div>\n      </div>\n    )\n  )\n}\n\nexport default Notifications\n","import React, { useState, useEffect, useRef, useContext } from 'react'\nimport { Link, navigate } from '@reach/router'\n\nimport eosIcon from '../assets/images/user-story-logo.svg'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\nimport Notifications from './Notifications'\n\nconst Navigation = (props) => {\n  const { logout } = useAuth()\n\n  const userName = localStorage.getItem('username')\n  const userEmail = localStorage.getItem('email')\n\n  const { state, dispatch } = useContext(Context)\n\n  const [userDropdownState, setUserDropdownState] = useState(false)\n\n  const userDropdownContainer = useRef()\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (\n        userDropdownContainer.current &&\n        !userDropdownContainer.current.contains(event.target)\n      ) {\n        setUserDropdownState(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [userDropdownContainer])\n\n  const handleLogout = async () => {\n    await logout()\n    dispatch({\n      type: 'DEAUTHENTICATE'\n    })\n    navigate('/')\n  }\n\n  return (\n    <header className='nav-header'>\n      <Link className='link' to='/'>\n        <img className='logo' src={eosIcon} alt='' />\n      </Link>\n      <nav className='navbar-content'>\n        {state.auth && (\n          <Link className='btn btn-default' to='/newStory'>\n            + New Story\n          </Link>\n        )}\n        {!state.auth && (\n          <Link className='btn btn-default' to='/login'>\n            Sign In\n          </Link>\n        )}\n        <Notifications />\n        {state.auth && (\n          <div\n            className='dropdown-container'\n            onClick={() => {\n              setUserDropdownState(!userDropdownState)\n            }}\n            ref={userDropdownContainer}\n          >\n            <i\n              className={`eos-icons ${\n                userDropdownState ? 'eos-icons-open' : ''\n              }`}\n            >\n              account_circle\n            </i>\n            <div\n              className={`dropdown nav-dropdown ${\n                userDropdownState\n                  ? 'dropdown-open dropdown-left'\n                  : 'dropdown-close dropdown-left'\n              }`}\n            >\n              <ul className='dropdown-list'>\n                <li className='user-dropdown user-dropdown-name'>{userName}</li>\n                <li className='user-dropdown user-dropdown-email'>\n                  {userEmail}\n                </li>\n                <hr className='dropdown-separator' />\n                <li\n                  className='dropdown-element'\n                  onClick={() => navigate('/myStories')}\n                >\n                  <i className='eos-icons eos-18'>message</i>\n                  My Stories\n                </li>\n                <li\n                  className='dropdown-element'\n                  onClick={() => navigate('/myProfile')}\n                >\n                  <i className='eos-icons eos-18'>settings</i>\n                  My Account\n                </li>\n                <hr className='dropdown-separator' />\n                <li className='dropdown-element' onClick={handleLogout}>\n                  <i className='eos-icons eos-18'>exit_to_app</i>\n                  Log Out\n                </li>\n              </ul>\n            </div>\n          </div>\n        )}\n      </nav>\n    </header>\n  )\n}\n\nexport default Navigation\n","import React, { useState, useEffect } from 'react'\n\nimport { Link } from '@reach/router'\n\nconst Pagination = (props) => {\n  const { getPage, storyCount, status, product } = props\n\n  const [currNumber, setCurrNumber] = useState(1)\n\n  const [pages, setPages] = useState()\n\n  useEffect(() => {\n    const resetPage = () => {\n      setCurrNumber(1)\n      getPage(1)\n    }\n    resetPage()\n  }, [status, product, getPage])\n\n  useEffect(() => {\n    if (storyCount) {\n      if (storyCount >= 5) {\n        const n = Math.ceil(storyCount / 5)\n        setPages([...Array(n + 1).keys()].slice(1))\n      } else {\n        setPages([1])\n      }\n    }\n  }, [storyCount])\n\n  return (\n    <div className='pagination'>\n      <Link\n        className='btn btn-pagination'\n        onClick={() => {\n          if (pages.find((page) => page === currNumber - 1)) {\n            setCurrNumber((currNumber) => currNumber - 1)\n            getPage(currNumber - 1)\n          }\n        }}\n        to='/'\n      >\n        <i className='eos-icons eos-18'>keyboard_arrow_left</i>\n        {`Prev`}\n      </Link>\n      <div className='btn-pagination'>\n        {pages\n          ? pages.map((ele, key) => {\n              return (\n                <Link\n                  className={`number ${currNumber === ele ? 'selected' : ''}`}\n                  onClick={() => {\n                    setCurrNumber(ele)\n                    getPage(ele)\n                  }}\n                  to='/'\n                  key={key}\n                >\n                  {ele}\n                </Link>\n              )\n            })\n          : ''}\n      </div>\n      <Link\n        className='btn btn-pagination'\n        onClick={() => {\n          if (pages.find((page) => page === currNumber + 1)) {\n            setCurrNumber((currNumber) => currNumber + 1)\n            getPage(currNumber + 1)\n          }\n        }}\n        to='/'\n      >\n        {`Next`}\n        <i className='eos-icons eos-18'>keyboard_arrow_right</i>\n      </Link>\n    </div>\n  )\n}\n\nexport default Pagination\n","import React, { useState, useEffect } from 'react'\n\nimport Button from './Button'\n\nconst Dropdown = (props) => {\n  const { title, reference, curr, setCurr, itemList } = props\n\n  const [dropdownState, setDropdownState] = useState(false)\n\n  const handleDropdownState = () => {\n    setDropdownState(!dropdownState)\n  }\n\n  const handleSelection = (value) => {\n    setCurr(value)\n    setDropdownState(false)\n  }\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (reference.current && !reference.current.contains(event.target)) {\n        setDropdownState(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [reference])\n\n  return (\n    <>\n      <div className='filter-title'>{title}</div>\n      <div className='dropdown-container' ref={reference}>\n        <Button\n          type='button'\n          className='btn btn-transparent'\n          onClick={handleDropdownState}\n        >\n          {dropdownState ? (\n            <i className='eos-icons'>keyboard_arrow_up</i>\n          ) : (\n            <i className='eos-icons'>keyboard_arrow_down</i>\n          )}\n          &nbsp; {curr}\n        </Button>\n        <div\n          className={`dropdown ${\n            dropdownState\n              ? 'dropdown-open dropdown-right'\n              : 'dropdown-close dropdown-right'\n          }`}\n        >\n          <ul className='dropdown-list'>\n            {itemList.map((item, key) => (\n              <li\n                key={key}\n                className='dropdown-element'\n                onClick={() => handleSelection(item)}\n              >\n                {item}\n              </li>\n            ))}\n          </ul>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Dropdown\n","const Lists = {\n  stateList: [\n    {\n      icon: 'watch_later',\n      status: 'Under consideration'\n    },\n    {\n      icon: 'check_circle',\n      status: 'Planned'\n    },\n    {\n      icon: 'create',\n      status: 'Designing'\n    },\n    {\n      icon: 'code',\n      status: 'Implementing'\n    },\n    {\n      icon: 'patch_fixes',\n      status: 'Testing'\n    },\n    {\n      icon: 'deploy',\n      status: 'Deployed'\n    }\n  ],\n  sortByList: ['Most Voted', 'Most Discussed']\n}\n\nexport default Lists\n","import React, {\n  useState,\n  useEffect,\n  useRef,\n  useCallback,\n  useContext\n} from 'react'\nimport axios from 'axios'\nimport { Link } from '@reach/router'\nimport { apiURL } from '../config.json'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport StoriesList from '../components/StoriesList'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport Navigation from '../components/Navigation'\nimport Pagination from '../components/Pagination'\nimport Dropdown from '../components/Dropdown'\nimport Modal from '../components/Modal'\n\nimport Lists from '../utils/Lists'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\n\nconst Home = () => {\n  const { logout } = useAuth()\n\n  const userId = localStorage.getItem('id')\n\n  const { dispatch } = useContext(Context)\n\n  const [page, setPage] = useState(1)\n\n  const [storyCount, setStoryCount] = useState()\n\n  const [modal, setModal] = useState(false)\n\n  const [policyUpdate, setPolicyUpdate] = useState()\n\n  const [currentStateSelected, selectState] = useState('Under consideration')\n\n  const [stories, setStories] = useState([])\n\n  const productDropdownContainer = useRef()\n\n  const sortDropdownContainer = useRef()\n\n  const categoryDropdownContainer = useRef()\n\n  const [product, setProduct] = useState('All')\n\n  const [sort, setSort] = useState('Most Voted')\n\n  const [category, setCategory] = useState('All')\n\n  const [products, setProducts] = useState([])\n\n  const [categories, setCategories] = useState([])\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  const [productQuery, setProductQuery] = useState(``)\n\n  const [categoryQuery, setCategoryQuery] = useState(``)\n\n  const getPage = useCallback((page) => {\n    setPage(page)\n  }, [])\n\n  useEffect(() => {\n    if (product !== 'All') {\n      setProductQuery(`product : {Name: \"${product}\"}`)\n    } else {\n      setProductQuery(``)\n    }\n    if (category !== 'All') {\n      setCategoryQuery(`Category : \"${category}\"`)\n    } else {\n      setCategoryQuery(``)\n    }\n  }, [product, category])\n\n  useEffect(() => {\n    const fetchStories = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n            userStories(sort: \"createdAt:desc\", limit: 5, start: ${\n              (page - 1) * 5\n            }, where: {\n                user_story_status : {\n                  Status: \"${currentStateSelected}\"\n                },\n                ${categoryQuery}\n                ${productQuery}\n            }) {\n              id\n              Title\n              Description\n              user_story_status {\n                Status\n              }\n              user_story_comments {\n                Comments\n              }\n              product {\n                Name\n              }\n              author {\n                id\n                username\n              }\n              followers {\n                id\n                username\n              }\n              Category\n            }\n          }\n          `\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setStories(response.data.data.userStories)\n    }\n    trackPromise(fetchStories())\n  }, [categoryQuery, currentStateSelected, page, productQuery])\n\n  useEffect(() => {\n    const fetchStoryCount = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `\n          query {\n            userStoriesConnection(where: { user_story_status: { Status: \"${currentStateSelected}\" },\n            ${productQuery} }) {\n              aggregate {\n                count\n              }\n            }\n          }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setStoryCount(response.data.data.userStoriesConnection.aggregate.count)\n    }\n    fetchStoryCount()\n  }, [currentStateSelected, product, productQuery])\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n            products {\n              Name\n            }\n          }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n\n      return response.data.data.product !== null\n        ? setProducts([\n            'All',\n            ...response.data.data.products?.map((ele) => {\n              return ele.Name\n            })\n          ])\n        : setProducts(['All'])\n    }\n    fetchProducts()\n  }, [])\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      const response = await axios.post(`${apiURL}/graphql`, {\n        query: '{ __type(name: \"ENUM_USERSTORY_CATEGORY\") {enumValues {name}}}'\n      })\n      setCategories([\n        'All',\n        ...response.data.data.__type.enumValues.map((ele) => {\n          return ele.name\n        })\n      ])\n    }\n    fetchCategories()\n  }, [])\n\n  useEffect(() => {\n    const comparatorVotes = (a, b) => {\n      return a.followers.length > b.followers.length ? -1 : 1\n    }\n    const comparatorComments = (a, b) => {\n      return a.user_story_comments.length > b.user_story_comments.length\n        ? -1\n        : 1\n    }\n\n    const updateStories = async () => {\n      if (sort === 'Most Voted') {\n        setStories(stories.sort(comparatorVotes))\n      }\n      if (sort === 'Most Discussed') {\n        setStories(stories.sort(comparatorComments))\n      }\n    }\n    trackPromise(updateStories())\n  }, [sort, stories, setStories])\n\n  useEffect(() => {\n    const fetchPolicyNotifications = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `\n        query {\n          userStoryNotifications(where: {message: \"User story privacy policy has been updated\"}) {\n            message\n            id\n            users {\n              id\n            }\n            seenBy {\n              id\n            }\n            date\n            link\n          }\n        }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      if (response.data.data.userStoryNotifications) {\n        const seenBy = response.data.data.userStoryNotifications[0]?.seenBy.map(\n          (seen) => seen.id\n        )\n        if (\n          response.data.data.userStoryNotifications.length &&\n          !seenBy.includes(userId)\n        ) {\n          setModal(true)\n          setPolicyUpdate(response.data.data.userStoryNotifications[0])\n        }\n      }\n    }\n    if (userId) {\n      fetchPolicyNotifications()\n    }\n  }, [userId])\n\n  const acceptUpdatedPolicy = async () => {\n    const seenBy = policyUpdate.seenBy.map((seen) => seen.id)\n    seenBy.push(userId)\n    await axios.post(\n      `${apiURL}/graphql`,\n      {\n        query: `mutation updateNotifications($seenBy: [ID]){\n          updateUserStoryNotification(input: {\n            where: {\n              id: \"${policyUpdate.id}\"\n            }\n            data: {\n              seenBy: $seenBy\n            }\n          }) {\n            userStoryNotification {\n              id\n            }\n          }\n        }`,\n        variables: {\n          seenBy: seenBy\n        }\n      },\n      {\n        withCredentials: true\n      }\n    )\n    setModal(false)\n  }\n\n  const handlePolicyUpdateReject = async () => {\n    if (userId) {\n      await logout()\n      dispatch({\n        type: 'DEAUTHENTICATE'\n      })\n    }\n    setModal(false)\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Home | EOS User story</title>\n        <meta\n          name='description'\n          content=\"Share with us how you use our products, relate to other users stories, vote them up, and we'll make sure we deliver cohesive solutions that enhance your experience.\"\n        />\n        <meta\n          name='keywords'\n          content='feature request, open roadmap, user voice, feature request tracking, issue tracker open source '\n        />\n      </Helmet>\n\n      <Navigation />\n      <div className='body-content'>\n        <div className='body-wrapper'>\n          <div className='product-introduction'>\n            <div>\n              <h1>TELL US YOUR STORY</h1>\n              <h2 className='subheader'>\n                Share with us how you use our products, relate to other users'\n                stories, vote them up, and we'll make sure we deliver cohesive\n                solutions that enhance your experience.\n              </h2>\n            </div>\n            <div className='img-wrap'>\n              <img\n                className='profile-picture'\n                src={require(`../assets/images/user-story-graphic.svg`)}\n                alt='profile pic'\n              />\n            </div>\n          </div>\n          <div className='roadmap'>\n            {Lists.stateList &&\n              Lists.stateList.map((state, key) => {\n                return (\n                  <Button\n                    className={\n                      currentStateSelected === state.status\n                        ? 'btn btn-tabs btn-tabs-selected'\n                        : 'btn btn-tabs'\n                    }\n                    key={key}\n                    onClick={() => {\n                      selectState(state.status)\n                      setPage(1)\n                    }}\n                  >\n                    <i className='eos-icons'>{state.icon}</i>\n                    {state.status}\n                  </Button>\n                )\n              })}\n          </div>\n          <div className='flex flex-row options-bar'>\n            <Dropdown\n              title='Product'\n              reference={productDropdownContainer}\n              curr={product}\n              setCurr={setProduct}\n              itemList={products}\n            />\n            <Dropdown\n              title='Categories'\n              reference={categoryDropdownContainer}\n              curr={category}\n              setCurr={setCategory}\n              itemList={categories}\n            />\n            <Dropdown\n              title='Sort By'\n              reference={sortDropdownContainer}\n              curr={sort}\n              setCurr={setSort}\n              itemList={Lists.sortByList}\n            />\n          </div>\n          {promiseInProgress ? (\n            <LoadingIndicator />\n          ) : (\n            <>\n              <StoriesList\n                stories={stories}\n                state={currentStateSelected}\n                product={product}\n              />\n            </>\n          )}\n          <Pagination\n            getPage={getPage}\n            storyCount={storyCount}\n            status={currentStateSelected}\n            product={product}\n          />\n        </div>\n      </div>\n      {modal && policyUpdate ? (\n        <Modal\n          showButtons={true}\n          onCancel={handlePolicyUpdateReject}\n          isActive={modal}\n          show={() => setModal(false)}\n          onOk={acceptUpdatedPolicy}\n        >\n          {\n            <>\n              {policyUpdate.message}\n              <Link className='link link-default' to={`/${policyUpdate.link}`}>\n                View privacy policy\n              </Link>\n            </>\n          }\n        </Modal>\n      ) : (\n        ''\n      )}\n    </>\n  )\n}\n\nexport default Home\n","import React from 'react'\n\nexport const FormError = (props) => {\n  const { type, status, message } = props\n\n  return (\n    <div>\n      {status ? (\n        <div className='form-error alert alert-section alert-danger'>\n          <i className='eos-icons alert-icon'>error</i>\n          <div class='alert-body'>\n            {status !== null && status}\n            {message !== null && message}\n          </div>\n        </div>\n      ) : (\n        <div className='form-error'>\n          <i className='eos-icons'>error</i>\n          {type === 'required' && 'This is required'}\n          {type === 'validate' && 'Passwords do not match'}\n          {type === 'emptyDescription' && 'Description cannot be empty'}\n          {message !== null && message}\n        </div>\n      )}\n    </div>\n  )\n}\n\nexport default FormError\n","import React, { useState, useEffect, useRef } from 'react'\nimport Button from './Button'\n\nconst LanguageDropdown = (props) => {\n  const { translator } = props\n  const container = useRef()\n\n  const [dropdownState, setDropdownState] = useState(false)\n  const handleButtonClick = (event) => {\n    setDropdownState(!dropdownState)\n  }\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (container.current && !container.current.contains(event.target)) {\n        setDropdownState(false)\n      }\n    }\n    document.addEventListener('mousedown', handleClickOutside)\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside)\n    }\n  }, [container])\n\n  return (\n    <div className='dropdown-container' ref={container}>\n      <Button\n        type='button'\n        className='btn btn-secondary'\n        onClick={handleButtonClick}\n      >\n        {dropdownState ? (\n          <i className='eos-icons'>keyboard_arrow_up</i>\n        ) : (\n          <i className='eos-icons'>keyboard_arrow_down</i>\n        )}\n        &nbsp; Language\n      </Button>\n      {dropdownState ? (\n        <div className='dropdown'>\n          <ul className='dropdown-list'>\n            <li\n              className='dropdown-element'\n              onClick={() => {\n                translator.changeLanguage('en')\n                setDropdownState(false)\n              }}\n            >\n              English\n            </li>\n            <li\n              className='dropdown-element'\n              onClick={() => {\n                translator.changeLanguage('es')\n                setDropdownState(false)\n              }}\n            >\n              Spanish\n            </li>\n          </ul>\n        </div>\n      ) : (\n        ''\n      )}\n    </div>\n  )\n}\n\nexport default LanguageDropdown\n","import React from 'react'\n\nexport const SocialMediaLinks = () => {\n  return (\n    <div className='social-media'>\n      <a\n        target='_blank'\n        rel='noopener noreferrer'\n        href='https://twitter.com/eosdesignsystem?lang=en'\n      >\n        <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'>\n          <g data-name='Group 60'>\n            <g data-name='Group 62'>\n              <g data-name='Rectangle 278'>\n                <path data-name='Rectangle 1959' d='M0 0h24v24H0z' />\n              </g>\n              <g data-name='Path 18'>\n                <path\n                  data-name='Path 628'\n                  d='M20.032 6.899a7.368 7.368 0 01-1.887.521 3.1 3.1 0 001.431-1.822 6.77 6.77 0 01-2.082.813A3.291 3.291 0 0011.8 8.656a2.742 2.742 0 00.1.748 9.284 9.284 0 01-6.8-3.448 3.584 3.584 0 00-.423 1.659 3.286 3.286 0 001.464 2.733 3.319 3.319 0 01-1.5-.423v.033a3.283 3.283 0 002.639 3.221 3.008 3.008 0 01-1.5.065 3.3 3.3 0 003.059 2.278 6.642 6.642 0 01-4.1 1.4 6.364 6.364 0 01-.781-.033 9.184 9.184 0 005.076 1.5 9.306 9.306 0 009.371-9.24v-.558a6.727 6.727 0 001.627-1.692z'\n                  fill='#fff'\n                />\n              </g>\n            </g>\n          </g>\n        </svg>\n      </a>\n      <a\n        target='_blank'\n        rel='noopener noreferrer'\n        href='https://www.linkedin.com/company/eosdesignsystem/'\n      >\n        <svg xmlns='http://www.w3.org/2000/svg' width='24' height='24'>\n          <g data-name='Group 61'>\n            <g data-name='Group 63'>\n              <g data-name='Rectangle 280'>\n                <path data-name='Rectangle 1961' d='M0 0h24v24H0z' />\n              </g>\n              <g data-name='iconfinder 201-LinkedIn 192159'>\n                <g data-name='Path 19'>\n                  <path\n                    data-name='Path 630'\n                    d='M16.802 19.604v-6.058a1.8 1.8 0 00-1.747-1.621 1.9 1.9 0 00-1.854 1.541v6.138h-3.23l.053-10.007h3.124l-.025 1.262a3.139 3.139 0 013.106-1.644c2.453 0 3.565 1.41 3.772 4.047v6.347zM6.011 8.175a1.788 1.788 0 11.438 0 1.789 1.789 0 01-.438 0zm1.993 11.441H4.032V9.622l3.97-.025z'\n                    fill='#fff'\n                  />\n                </g>\n              </g>\n            </g>\n          </g>\n        </svg>\n      </a>\n    </div>\n  )\n}\n\nexport default SocialMediaLinks\n","import React from 'react'\nimport { useTranslation } from 'react-i18next'\nimport LanguageDropdown from './LanguageDropdown'\nimport eosLogoColoured from '../assets/images/logo-coloured.png'\nimport SocialMediaLinks from '../components/SocialMediaLinks'\nexport const AuthWrapper = ({ children }) => {\n  return (\n    <div className='authentication-wrapper'>\n      <div className='authentication'>{children}</div>\n    </div>\n  )\n}\n\nexport const AuthLeftContainer = () => {\n  const { t } = useTranslation()\n\n  return (\n    <div className='container-left'>\n      <div className='container-left-content'>\n        <div className='header header-uppercase'>\n          {t('authentication:header-left')}\n        </div>\n        <p>{t('authentication:user-stories-description')}</p>\n        <div className='footer'>\n          <p>\n            {t('authentication:footer-left')} -{' '}\n            <a className='link link-default' href='/policies'>\n              Learn More\n            </a>\n          </p>\n        </div>\n        <SocialMediaLinks />\n      </div>\n    </div>\n  )\n}\n\nexport const AuthRightContainer = ({ children, logo }) => {\n  const { t, i18n } = useTranslation()\n\n  return (\n    <div className='container-right'>\n      <div className='flex flex-row flex-space-between'>\n        <div className='image image-logo eos-logo-resize'>\n          <img src={logo ?? eosLogoColoured} alt='EOS Logo' />\n        </div>\n        <LanguageDropdown translator={i18n} />\n      </div>\n      {children}\n      <div className='footer'>\n        <span>\n          <i className='eos-icons'>copyright</i>\n          <span> {t('authentication:footer-right')} </span>\n        </span>\n        <a className='link link-default' href='/policies'>\n          {' '}\n          Cookies and Privacy policy\n        </a>\n      </div>\n\n      <div className='cookies-mobile'>\n        <p>\n          {t('authentication:footer-left')} -{' '}\n          <a className='link link-default' href='/policies'>\n            Learn More\n          </a>\n        </p>\n      </div>\n    </div>\n  )\n}\n\nexport default AuthWrapper\n","import React, { useState, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\n\nimport { Link, navigate } from '@reach/router'\nimport { useTranslation } from 'react-i18next'\nimport useAuth from '../hooks/useAuth'\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport FormError from '../components/FormError'\nimport Context from '../modules/Context'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nexport const Login = (props) => {\n  const { message } = props\n\n  const { t } = useTranslation()\n\n  const { login } = useAuth()\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const [showPassword, toggleShowPassword] = useState(false)\n\n  const { state, dispatch } = useContext(Context)\n\n  const onSubmit = async (data) => {\n    try {\n      const payload = await login({\n        identifier: data.identifier,\n        password: data.password\n      })\n      localStorage.setItem('id', payload.user.id)\n      localStorage.setItem('username', payload.user.username)\n      localStorage.setItem('email', payload.user.email)\n      dispatch({\n        type: 'AUTHENTICATE'\n      })\n      navigate('/', { replace: true })\n    } catch (e) {}\n  }\n\n  if (state.auth) {\n    navigate('/', { replace: true })\n    return null\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Login | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            <form className='form-default' onSubmit={handleSubmit(onSubmit)}>\n              <div className='header'>{t('authentication:title-sign-in')}</div>\n              {message && <FormError message={message} />}\n              {state.errorCode && <FormError status={state.errorCode} />}\n              <div className='form-element'>\n                <label htmlFor='identifer'>\n                  {t('authentication:username-label')}\n                </label>\n                <input\n                  className='input-default'\n                  type='text'\n                  name='identifier'\n                  ref={register({ required: true })}\n                />\n                {errors.identifier && (\n                  <FormError type={errors.identifier.type} />\n                )}\n              </div>\n\n              <div className='form-element'>\n                <label htmlFor='password'>\n                  {t('authentication:password-label')}\n                </label>\n                <div className='input-group'>\n                  <input\n                    className='input-default'\n                    type={showPassword ? 'text' : 'password'}\n                    name='password'\n                    ref={register({ required: true })}\n                  ></input>\n\n                  <div\n                    className='input-group-append'\n                    onClick={() => toggleShowPassword(!showPassword)}\n                  >\n                    <i className='eos-icons eos-18'>\n                      {showPassword ? 'visibility_off ' : 'visibility'}\n                    </i>\n                  </div>\n                </div>\n                {errors.password && <FormError type={errors.password.type} />}\n              </div>\n\n              <Button type='submit' className='btn btn-default'>\n                {t('authentication:login-label')}\n              </Button>\n            </form>\n            <div className='flex flex-row flex-space-between margin-top-l'>\n              <Link className='link link-default' to='/forgotPassword'>\n                {t('authentication:forgot-password')}\n              </Link>\n              <Link className='link link-default' to='/register'>\n                {t('authentication:create-account')}\n              </Link>\n            </div>\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default Login\n","import React, { useContext } from 'react'\nimport { useForm } from 'react-hook-form'\nimport { Helmet } from 'react-helmet'\n\nimport { Link, navigate } from '@reach/router'\nimport Button from '../components/Button'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\n\nimport FormError from '../components/FormError'\nimport { useTranslation } from 'react-i18next'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nexport const Register = () => {\n  const { registerUser } = useAuth()\n\n  const { state, dispatch } = useContext(Context)\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const { t } = useTranslation()\n\n  const onSubmit = async (data) => {\n    try {\n      const payload = await registerUser({\n        username: data.username,\n        email: data.email,\n        password: data.password\n      })\n      localStorage.setItem('status', payload.status)\n      localStorage.setItem('id', payload.user.id)\n      localStorage.setItem('username', payload.user.username)\n      localStorage.setItem('email', payload.user.email)\n      dispatch({\n        type: 'AUTHENTICATE'\n      })\n      navigate('/', { replace: true })\n    } catch (e) {}\n  }\n\n  if (state.auth) {\n    navigate('/', { replace: true })\n    return null\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Registration page | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            <form className='form-default' onSubmit={handleSubmit(onSubmit)}>\n              <div className='header'>{t('authentication:title-sign-up')}</div>\n              {state.errorCode && <FormError status={state.errorCode} />}\n              <div className='form-element'>\n                <label htmlFor='username'>\n                  {t('authentication:username-label')}\n                </label>\n                <input\n                  className='input-default'\n                  type='text'\n                  name='username'\n                  ref={register({ required: true })}\n                />\n                {errors.username && <FormError type={errors.username.type} />}\n              </div>\n              <div className='form-element'>\n                <label htmlFor='email'>{t('authentication:email-label')}</label>\n                <input\n                  className='input-default'\n                  type='text'\n                  name='email'\n                  ref={register({ required: true })}\n                />\n                {errors.email && <FormError type={errors.email.type} />}\n              </div>\n              <div className='form-element'>\n                <label htmlFor='password'>\n                  {t('authentication:password-label')}\n                </label>\n                <input\n                  className='input-default'\n                  type='password'\n                  name='password'\n                  ref={register({\n                    required: 'This is required',\n                    minLength: {\n                      value: 8,\n                      message: 'Password must have at least 8 characters'\n                    }\n                  })}\n                />\n                {errors.password && (\n                  <FormError message={errors.password.message} />\n                )}\n              </div>\n              <div className='form-element'>\n                <div className='flex flex-row flex-align-center '>\n                  <input\n                    type='checkbox'\n                    name='tc'\n                    ref={register({\n                      required: 'You must accept our Terms and Conditions'\n                    })}\n                  />\n                  <label htmlFor='tc'>\n                    I agree to the{' '}\n                    <Link className='link link-default' to='/policies'>\n                      Terms and Conditions\n                    </Link>\n                    {errors.tc && <FormError message={errors.tc.message} />}\n                  </label>\n                </div>\n              </div>\n              <Button type='submit' className='btn btn-default'>\n                {t('authentication:register-label')}\n              </Button>\n            </form>\n            <div className='flex flex-row flex-space-between margin-top-l'>\n              <Link className='link link-default' to='/login'>\n                {t('authentication:existing-user')}\n              </Link>\n            </div>\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default Register\n","import React, { useState, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\n\nimport { Link } from '@reach/router'\nimport { useTranslation } from 'react-i18next'\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport FormError from '../components/FormError'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nconst ForgotPassword = () => {\n  const { t } = useTranslation()\n\n  const { state } = useContext(Context)\n\n  const { forgotPassword } = useAuth()\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const [response, setResponse] = useState('')\n\n  const onSubmit = async (data) => {\n    try {\n      const reply = await forgotPassword({\n        email: data.email\n      })\n      setResponse(reply)\n    } catch (e) {}\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Forgot password? | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            <div className='header'>{t('authentication:forgot-password')}</div>\n            {response ? (\n              <>\n                <p>We have e-mailed you a password reset link</p>\n              </>\n            ) : (\n              <>\n                {state.errorCode && <FormError status={state.errorCode} />}\n                <form\n                  className='form-default'\n                  onSubmit={handleSubmit(onSubmit)}\n                >\n                  <div className='form-element'>\n                    <label htmlFor='email'>\n                      {t('authentication:email-label')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='email'\n                      name='email'\n                      ref={register({ required: true })}\n                    />\n                    {errors.email && <FormError type={errors.email.type} />}\n                  </div>\n                  <Button type='submit' className='btn btn-default'>\n                    {t('authentication:submit-label')}\n                  </Button>\n                </form>\n                <div className='flex flex-row flex-space-between margin-top-l'>\n                  <Link className='link link-default' to='/login'>\n                    {t('authentication:existing-user')}\n                  </Link>\n                </div>\n              </>\n            )}\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default ForgotPassword\n","import React, { useState, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\n\nimport { Link, useLocation } from '@reach/router'\nimport { useTranslation } from 'react-i18next'\n\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport FormError from '../components/FormError'\nimport useAuth from '../hooks/useAuth'\nimport Context from '../modules/Context'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nconst ResetPassword = () => {\n  const { t } = useTranslation()\n\n  const { state } = useContext(Context)\n\n  const { resetPassword } = useAuth()\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const location = useLocation()\n\n  const [response, setResponse] = useState('')\n\n  const onSubmit = async (data) => {\n    try {\n      const reply = await resetPassword({\n        code: location.search.slice(6),\n        password: data.password,\n        passwordConfirmation: data.passwordConfirmation\n      })\n      setResponse(reply)\n    } catch (e) {}\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Reset your password | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            {response ? (\n              <>\n                <div className='header'>\n                  {t('authentication:forgot-password')}\n                </div>\n                <p>Your password has been reset.</p>\n                <div className='flex flex-row flex-space-between'>\n                  <Link className='link link-default' to='/login'>\n                    {t('authentication:reset-password-done')}\n                  </Link>\n                </div>\n              </>\n            ) : (\n              <>\n                {state.errorCode && <FormError status={state.errorCode} />}\n                <form\n                  className='form-default'\n                  onSubmit={handleSubmit(onSubmit)}\n                >\n                  <div className='header'>\n                    {t('authentication:reset-password')}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='password'>\n                      {t('authentication:new-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='password'\n                      ref={register({ required: true })}\n                    />\n\n                    {errors.password && (\n                      <FormError type={errors.password.type} />\n                    )}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='confirm-password'>\n                      {t('authentication:confirm-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='passwordConfirmation'\n                      ref={register({ required: true })}\n                    />\n                    {errors.passwordConfirmation && (\n                      <FormError type={errors.passwordConfirmation.type} />\n                    )}\n                  </div>\n                  <Button type='submit' className='btn btn-default'>\n                    {t('authentication:submit-label')}\n                  </Button>\n                </form>\n              </>\n            )}\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default ResetPassword\n","import React, { useState, useEffect } from 'react'\n\nconst Search = (props) => {\n  const { listToBeSearched, title } = props\n  const [searchResults, setSearchResults] = useState([])\n\n  const strip = (html) => {\n    return html.replace(/<\\s*[^>]*>/gi, '')\n  }\n\n  useEffect(() => {\n    const updateSearchResults = () => {\n      const toBeAppended = []\n      if (title === '') {\n        setSearchResults(toBeAppended)\n        return\n      }\n      for (let i = 0; i < listToBeSearched.length; i++) {\n        const txtVal = listToBeSearched[i].Title\n        if (txtVal.toUpperCase().indexOf(title.toUpperCase()) > -1)\n          toBeAppended.push({\n            id: listToBeSearched[i].id,\n            Title: txtVal,\n            Description: listToBeSearched[i].Description,\n            followers: listToBeSearched[i].followers\n          })\n      }\n      setSearchResults(toBeAppended)\n    }\n    updateSearchResults()\n  }, [title, listToBeSearched])\n\n  return searchResults.length > 0 ? (\n    <div className='flex flex-column title-search'>\n      <h4>\n        <i className='eos-icons'>arrow_forward</i> We found some matching\n        results\n      </h4>\n      {searchResults.map((result, key) => {\n        return (\n          <div\n            className='story title-search-results'\n            onClick={() => window.open(`/story/${result.id}`, '_blank')}\n            key={key}\n          >\n            <div className='stories-content title-search-result'>\n              <h4>{result.Title}</h4>\n              {strip(result.Description)}\n            </div>\n            <div className='icon-display'>\n              {result.followers.length}\n              <i className='eos-icons'>thumb_up</i>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  ) : (\n    ''\n  )\n}\n\nexport default Search\n","import React, { useEffect, useState } from 'react'\nimport { useDropzone } from 'react-dropzone'\n\nconst Dragdrop = () => {\n  const [files, setFiles] = useState([])\n\n  const { getRootProps, getInputProps } = useDropzone({\n    multiple: true,\n    onDrop: (acceptedFiles) => {\n      setFiles((files) => [\n        ...files,\n        ...acceptedFiles.map((file) =>\n          Object.assign(file, {\n            preview: URL.createObjectURL(file)\n          })\n        )\n      ])\n    }\n  })\n\n  const mediaPreview = files.map((file) => (\n    <div className='preview-root' key={file.name}>\n      <div className='preview-inner'>\n        <img src={file.preview} className='preview-image' alt='preview' />\n      </div>\n    </div>\n  ))\n\n  useEffect(\n    () => () => {\n      files.forEach((file) => URL.revokeObjectURL(file.preview))\n    },\n    [files]\n  )\n\n  return (\n    <section className='container'>\n      <div {...getRootProps({ className: 'dropzone' })}>\n        <input {...getInputProps()} />\n        <p>Drag 'n' drop some files here, or click to select files</p>\n      </div>\n      <aside className='preview-container'>{mediaPreview}</aside>\n    </section>\n  )\n}\n\nexport default Dragdrop\n","import React, { useLayoutEffect, useState, useEffect, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\n\nimport CKEditor from '@ckeditor/ckeditor5-react'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport { Helmet } from 'react-helmet'\n\nimport FormError from '../components/FormError'\nimport Navigation from '../components/Navigation'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport Button from '../components/Button'\nimport Search from '../modules/TitleSearch'\nimport Dragdrop from '../components/Dragdrop'\nimport { navigate } from '@reach/router'\nimport Context from '../modules/Context'\nimport Login from './Login'\n\nconst NewStory = () => {\n  const { state } = useContext(Context)\n\n  const { register, handleSubmit, errors, setValue, watch } = useForm()\n\n  const [descriptionError, setDescriptionError] = useState(false)\n\n  const [categories, setCategories] = useState([])\n\n  const [priorities, setPriorities] = useState([])\n\n  const [products, setProducts] = useState([])\n\n  const [storiesData, setStoriesData] = useState([])\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  const [screenSize, setScreenSize] = useState(0)\n\n  useLayoutEffect(() => {\n    function updateScreenSize() {\n      setScreenSize(window.innerWidth)\n    }\n    window.addEventListener('resize', updateScreenSize)\n    updateScreenSize()\n    return () => window.removeEventListener('resize', updateScreenSize)\n  }, [])\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      const response = await axios.post(`${apiURL}/graphql`, {\n        query: '{ __type(name: \"ENUM_USERSTORY_CATEGORY\") {enumValues {name}}}'\n      })\n\n      setCategories(\n        response.data.data.__type.enumValues.map((ele) => {\n          return ele.name\n        })\n      )\n    }\n\n    trackPromise(fetchCategories())\n\n    const fetchProducts = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n          products {\n            id\n            Name\n          }\n        }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setProducts(response.data.data.products)\n    }\n\n    trackPromise(fetchProducts())\n\n    const fetchPriorities = async () => {\n      const response = await axios.post(`${apiURL}/graphql`, {\n        query: `query {\n          __type(name: \"ENUM_USERSTORY_PRIORITY\") {\n            enumValues {\n              name\n            }\n          }\n        }`\n      })\n\n      setPriorities(\n        response.data.data.__type.enumValues.map((ele) => {\n          return ele.name\n        })\n      )\n    }\n\n    trackPromise(fetchPriorities())\n\n    const fetchStoriesData = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n            userStories(sort: \"votes:desc,createdAt:desc\") {\n              id\n              Title\n              Description\n              followers {\n                username\n              }\n            }\n          }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setStoriesData(response.data.data.userStories)\n    }\n    fetchStoriesData()\n  }, [])\n\n  /*\n  const handleFileUpload = (event) => {\n    setData({ ...data, mediaCollection: event.target.files })\n  }\n  feature coming in next PR\n  */\n\n  const onSubmit = async (data) => {\n    if (data.description === undefined || data.description.length === 0) {\n      setDescriptionError(true)\n      return\n    }\n    await axios.post(\n      `${apiURL}/graphql`,\n      {\n        query: `mutation {\n          createUserStory(\n            input: {\n              data: {\n                Description: \"${data.description}\"\n                Title: \"${data.title}\"\n                Category: ${data.category}\n                user_story_status: \"5f0f33205f5695666b0d2e7e\"\n                product: \"${data.product}\"\n                Priority: ${data.priority}\n              }\n            }\n          ) {\n            userStory {\n              createdAt\n            }\n          }\n        }\n        `\n      },\n      { withCredentials: true }\n    )\n    navigate('/')\n  }\n  useEffect(() => {\n    register('description')\n  })\n\n  return state.auth ? (\n    <>\n      <Helmet>\n        <title>New story | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : (\n        <div className='body-content'>\n          <div className='flex flex-row body-wrapper'>\n            <div className='newstory'>\n              <h3>New Story</h3>\n              <form className='form-default' onSubmit={handleSubmit(onSubmit)}>\n                <div className='form-element'>\n                  <label htmlFor='title'>Title</label>\n                  <input\n                    className='input-default'\n                    type='text'\n                    name='title'\n                    autoComplete='off'\n                    ref={register({ required: true })}\n                  />\n                  {errors.title && <FormError type={errors.title.type} />}\n                </div>\n                {screenSize <= 1120 ? (\n                  <Search\n                    listToBeSearched={storiesData}\n                    title={watch('title') || ''}\n                  />\n                ) : (\n                  ''\n                )}\n                <div className='form-element'>\n                  <label htmlFor='product'>Product</label>\n                  <select\n                    className='select-default'\n                    name='product'\n                    ref={register({ required: true })}\n                  >\n                    <option defaultValue={true} value=''>\n                      Select a product\n                    </option>\n                    {products &&\n                      products.map((ele, key) => {\n                        return (\n                          <option key={key} value={ele.id}>\n                            {ele.Name}\n                          </option>\n                        )\n                      })}\n                  </select>\n                  {errors.product && <FormError type={errors.product.type} />}\n                </div>\n                <div className='form-element'>\n                  <label htmlFor='category'>Category</label>\n                  <select\n                    className='select-default'\n                    name='category'\n                    ref={register({ required: true })}\n                  >\n                    <option defaultValue={true} value=''>\n                      Select a category\n                    </option>\n                    {categories &&\n                      categories.map((ele, key) => {\n                        return (\n                          <option key={key} value={ele}>\n                            {ele}\n                          </option>\n                        )\n                      })}\n                  </select>\n                  {errors.category && <FormError type={errors.category.type} />}\n                </div>\n                <div className='form-element'>\n                  <label htmlFor='priority'>Priority</label>\n                  <select\n                    className='select-default'\n                    name='priority'\n                    ref={register({ required: true })}\n                  >\n                    <option defaultValue={true} value=''>\n                      Select priority\n                    </option>\n                    {priorities &&\n                      priorities.map((ele, key) => {\n                        return (\n                          <option key={key} value={ele}>\n                            {ele}\n                          </option>\n                        )\n                      })}\n                  </select>\n                  {errors.priority && <FormError type={errors.priority.type} />}\n                </div>\n                <div className='form-element'>\n                  <label htmlFor='description'>Description</label>\n                  <CKEditor\n                    editor={ClassicEditor}\n                    config={{\n                      toolbar: [\n                        'heading',\n                        '|',\n                        'bold',\n                        'italic',\n                        '|',\n                        'link',\n                        'bulletedList',\n                        'numberedList'\n                      ]\n                    }}\n                    onChange={(event, editor) => {\n                      setValue('description', editor.getData())\n                      setDescriptionError(false)\n                    }}\n                    ref={register}\n                  />\n                  {descriptionError && <FormError type='emptyDescription' />}\n                </div>\n                <Dragdrop />\n                <div className='flex flex-row flex-center'>\n                  <Button type='submit' className='btn btn-default'>\n                    Submit\n                  </Button>\n                </div>\n              </form>\n            </div>\n            {screenSize > 1120 ? (\n              <Search\n                listToBeSearched={storiesData}\n                title={watch('title') || ''}\n              />\n            ) : (\n              ''\n            )}\n          </div>\n        </div>\n      )}\n    </>\n  ) : (\n    <Login message='Please login to create a new story' />\n  )\n}\n\nexport default NewStory\n","import React, { useState, useEffect, useContext } from 'react'\nimport { Link } from '@reach/router'\nimport Button from './Button'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport { useForm } from 'react-hook-form'\n\nimport Context from '../modules/Context'\nimport FormError from '../components/FormError'\n\nconst Comments = (props) => {\n  const { storyId } = props\n\n  const {\n    register: registerComment,\n    errors: errorsComment,\n    handleSubmit: handleSubmitComment\n  } = useForm()\n\n  const {\n    register: registerReply,\n    errors: errorsReply,\n    handleSubmit: handleSubmitReply\n  } = useForm()\n\n  const { state } = useContext(Context)\n\n  const id = localStorage.getItem('id')\n\n  const [comment, setComment] = useState('')\n\n  const [fetchComments, setFetchComments] = useState(false)\n\n  const [commentId, setCommentId] = useState()\n\n  const [commentReply, setCommentReply] = useState('')\n\n  const [comments, setComments] = useState([])\n\n  const [repliesToggled, setRepliesToggled] = useState()\n\n  const [viewRepliesToggled, setViewRepliesToggled] = useState([])\n\n  useEffect(() => {\n    const fetchComments = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `\n        query {\n          userStory(id: \"${storyId}\") {\n            user_story_comments {\n              id\n              Comments\n              user {\n                id\n                username\n              }\n              createdAt\n              user_story_comment_replies {\n                createdAt\n                Comments\n                user {\n                  id\n                  username\n                }\n              }\n            }\n          }\n        }\n        `\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setComments(response.data.data.userStory.user_story_comments)\n    }\n    fetchComments()\n  }, [storyId, fetchComments])\n\n  const addComment = async (data) => {\n    const response = await axios.post(\n      `${apiURL}/graphql`,\n      {\n        query: `\n      mutation {\n        createUserStoryComment(input: {\n          data: {\n            Comments: \"${data.addComment}\"\n            user_story: \"${storyId}\"\n            user: \"${id}\"\n          }\n        }) {\n          userStoryComment {\n            id\n            user {\n              id\n              username\n            }\n            Comments\n            createdAt\n            user_story_comment_replies {\n              createdAt\n              Comments\n              user {\n                id\n                username\n              }\n            }\n          }\n        }\n      }\n      `\n      },\n      {\n        withCredentials: true\n      }\n    )\n    setComments([\n      ...comments,\n      response.data.data.createUserStoryComment.userStoryComment\n    ])\n    setComment('')\n  }\n\n  const addCommentReply = async (data) => {\n    await axios.post(\n      `${apiURL}/graphql`,\n      {\n        query: `\n      mutation {\n        createUserStoryCommentThread (input: {\n          data: {\n            Comments: \"${data.addReply}\"\n            user_story_comment: \"${commentId}\"\n            user: \"${id}\"\n          }\n        }){\n          userStoryCommentThread {\n            createdAt\n          }\n        }\n      }\n      `\n      },\n      { withCredentials: true }\n    )\n    setCommentReply('')\n    setFetchComments((fetchComments) => !fetchComments)\n    setRepliesToggled(null)\n  }\n\n  return (\n    <div className='comments-wrapper'>\n      <h3>Comments</h3>\n      {comments.length ? (\n        comments.map((data, key) => {\n          return (\n            <div className='comment' key={key}>\n              <div className='user-avatar'>\n                <img\n                  className='avatar'\n                  src={`https://avatars.dicebear.com/api/jdenticon/${data.user.username}.svg`}\n                  alt='Default User Avatar'\n                ></img>\n              </div>\n              <div className='comment-content'>\n                <Link\n                  className='link link-default'\n                  to={`/profile/${data.user.id}`}\n                >\n                  {data.user.username}\n                </Link>\n                <div className='metadata'>\n                  <div>\n                    {`${data.createdAt.slice(0, 10)}  ${data.createdAt.slice(\n                      11,\n                      19\n                    )}`}\n                  </div>\n                </div>\n                <p>{data.Comments}</p>\n                <div className='reply-action'>\n                  {state.auth && (\n                    <Button\n                      className='btn btn-default'\n                      onClick={() => {\n                        setCommentId(data.id)\n                        repliesToggled === key + 1\n                          ? setRepliesToggled(null)\n                          : setRepliesToggled(key + 1)\n                        viewRepliesToggled.find((item) => item === key + 1)\n                          ? setViewRepliesToggled((viewRepliesToggled) =>\n                              viewRepliesToggled.filter(\n                                (item) => item !== key + 1\n                              )\n                            )\n                          : setViewRepliesToggled((viewRepliesToggled) =>\n                              viewRepliesToggled.concat(key + 1)\n                            )\n                      }}\n                    >\n                      Reply\n                    </Button>\n                  )}\n                  {data.user_story_comment_replies.length > 0 ? (\n                    <Button\n                      className='btn btn-default'\n                      onClick={() => {\n                        viewRepliesToggled.find((item) => item === key + 1)\n                          ? setViewRepliesToggled((viewRepliesToggled) =>\n                              viewRepliesToggled.filter(\n                                (item) => item !== key + 1\n                              )\n                            )\n                          : setViewRepliesToggled((viewRepliesToggled) =>\n                              viewRepliesToggled.concat(key + 1)\n                            )\n                      }}\n                    >\n                      View Replies ({data.user_story_comment_replies.length})\n                    </Button>\n                  ) : (\n                    ''\n                  )}\n                </div>\n                {viewRepliesToggled.find((item) => item === key + 1) &&\n                  data.user_story_comment_replies.map((reply, key) => (\n                    <div className='comment' key={key}>\n                      <div className='user-avatar'>\n                        <img\n                          className='avatar'\n                          src={`https://avatars.dicebear.com/api/jdenticon/${reply.user.username}.svg`}\n                          alt='Default User Avatar'\n                        ></img>\n                      </div>\n                      <div className='comment-content'>\n                        <Link\n                          className='link link-default'\n                          to={`/profile/${data.user.id}`}\n                        >\n                          {reply.user.username}\n                        </Link>\n                        <div className='metadata'>\n                          {\n                            <div>\n                              {`${reply.createdAt.slice(\n                                0,\n                                10\n                              )}  ${reply.createdAt.slice(11, 19)}`}\n                            </div>\n                          }\n                        </div>\n                        <p>{reply.Comments}</p>\n                      </div>\n                    </div>\n                  ))}\n                {repliesToggled === key + 1 && state.auth && (\n                  <form\n                    className='comment-form'\n                    onSubmit={handleSubmitReply(addCommentReply)}\n                  >\n                    <div className='field'>\n                      <textarea\n                        rows='4'\n                        cols='16'\n                        name='addReply'\n                        ref={registerReply({ required: true })}\n                        value={commentReply}\n                        onChange={(e) => setCommentReply(e.target.value)}\n                      ></textarea>\n                      {errorsReply.addReply && (\n                        <FormError message='Reply cannot be empty' />\n                      )}\n                    </div>\n                    <Button className='btn btn-default'>Add Reply</Button>\n                  </form>\n                )}\n              </div>\n            </div>\n          )\n        })\n      ) : (\n        <h3>No comments yet</h3>\n      )}\n      {state.auth && (\n        <form\n          className='comment-form'\n          onSubmit={handleSubmitComment(addComment)}\n        >\n          <div className='field'>\n            <textarea\n              rows='4'\n              name='addComment'\n              cols='16'\n              ref={registerComment({ required: true })}\n              value={comment}\n              onChange={(e) => setComment(e.target.value)}\n            ></textarea>\n            {errorsComment.addComment && (\n              <FormError message='Comment cannot be empty' />\n            )}\n          </div>\n          <Button className='btn btn-default'>Add Comment</Button>\n        </form>\n      )}\n    </div>\n  )\n}\n\nexport default Comments\n","import React, { useEffect, useState } from 'react'\n\nimport Lists from '../utils/Lists'\n\nconst Timeline = (props) => {\n  const { currentStatus } = props\n\n  const [previousStatuses, setPreviousStatuses] = useState([])\n  useEffect(() => {\n    const setStatuses = () => {\n      const tempList = []\n      for (let i = 0; i < Lists.stateList.length; i++) {\n        tempList.push(Lists.stateList[i].status)\n        if (Lists.stateList[i].status === currentStatus) break\n      }\n\n      setPreviousStatuses(tempList)\n    }\n    setStatuses()\n  }, [currentStatus])\n\n  return (\n    <div className='flex flex-row flex-space-around status-wrapper'>\n      {Lists.stateList.map((ele, key) => {\n        return (\n          <div className='status-element' key={key}>\n            <div className='status flex flex-column'>\n              {previousStatuses.includes(ele.status) ? (\n                <i className='eos-icons tick'>check</i>\n              ) : (\n                <i className='eos-icons no-tick'></i>\n              )}\n              <h4> {ele.status} </h4>\n            </div>\n          </div>\n        )\n      })}\n    </div>\n  )\n}\n\nexport default Timeline\n","import React, { useEffect, useState } from 'react'\nimport CKEditor from '@ckeditor/ckeditor5-react'\nimport ClassicEditor from '@ckeditor/ckeditor5-build-classic'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\n\nimport { Helmet } from 'react-helmet'\n\nimport Comments from '../components/Comments'\nimport Timeline from '../components/Timeline'\nimport Button from '../components/Button'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport Navigation from '../components/Navigation'\nimport { Link } from '@reach/router'\nimport Vote from '../components/Vote'\n\nconst Story = (props) => {\n  const { storyId } = props\n\n  const userId = localStorage.getItem('id')\n\n  const [story, setStory] = useState('')\n\n  const [editDescription, setDescription] = useState('')\n\n  const [editMode, setEditMode] = useState(false)\n\n  const [editor, setEditor] = useState(false)\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  useEffect(() => {\n    const fetchStory = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n            userStory(id: \"${storyId}\") {\n              id\n              Title\n              Description\n              user_story_status {\n                Status\n              }\n              author {\n                id\n                username\n              }\n              followers {\n                id\n                username\n              }\n            }\n          }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setStory(response.data.data.userStory)\n    }\n    trackPromise(fetchStory())\n    const editStory = async () => {\n      const check = await axios.post(\n        `${apiURL}/checkAuthor`,\n        {\n          id: userId,\n          storyId: storyId\n        },\n        {\n          withCredentials: true\n        }\n      )\n      if (check.data) {\n        setEditMode(true)\n      }\n    }\n    if (userId) {\n      editStory()\n    }\n  }, [storyId, userId])\n\n  const save = async (event) => {\n    event.preventDefault()\n    await axios.post(\n      `${apiURL}/graphql`,\n      {\n        query: `mutation {\n          updateUserStory(\n            input: { where: { id: \"${storyId}\" }, data: { Description: \"${\n          story.Description + editDescription\n        }\" } }\n          ) {\n            userStory {\n              updatedAt\n            }\n          }\n        }`\n      },\n      {\n        withCredentials: true\n      }\n    )\n    setEditor(false)\n    setStory({\n      ...story,\n      Description: `${story.Description + editDescription}`\n    })\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${story.Title} | EOS User story`}</title>\n        <meta name='description' content={`${story.Description}`} />\n        <meta name='keywords' content='user story, issue tracker' />\n      </Helmet>\n      <Navigation />\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : story ? (\n        <>\n          <div className='body-content'>\n            <div className='body-wrapper'>\n              <Timeline currentStatus={story.user_story_status.Status} />\n              <div className='story-heading'>\n                <h3>{story.Title}</h3>\n                <div className='flex flex-row flex-space-between'>\n                  <Vote story={story} />\n                  <div className='author-information'>\n                    <h4>\n                      By:{' '}\n                      <Link\n                        className='link link-default'\n                        to={`/profile/${story.author.id}`}\n                      >\n                        {story.author.username}\n                      </Link>\n                    </h4>\n                    <div className='user-avatar'>\n                      <img\n                        className='avatar'\n                        src={`https://avatars.dicebear.com/api/jdenticon/${story.author.username}.svg`}\n                        alt='Default User Avatar'\n                      ></img>\n                    </div>\n                  </div>\n                </div>\n              </div>\n\n              {editor ? (\n                <>\n                  <CKEditor\n                    editor={ClassicEditor}\n                    config={{\n                      toolbar: [\n                        'heading',\n                        '|',\n                        'bold',\n                        'italic',\n                        '|',\n                        'link',\n                        'bulletedList',\n                        'numberedList'\n                      ]\n                    }}\n                    onChange={(event, editor) => {\n                      const response = editor.getData()\n                      setDescription(response)\n                    }}\n                  />\n                </>\n              ) : (\n                <div\n                  className='story-description'\n                  dangerouslySetInnerHTML={{ __html: story.Description }}\n                />\n              )}\n              <div className='story-buttons-container'>\n                {editMode && !editor ? (\n                  <Button\n                    className='btn btn-default'\n                    onClick={() => setEditor(true)}\n                  >\n                    Edit\n                  </Button>\n                ) : (\n                  ''\n                )}\n                {editor ? (\n                  <Button className='btn btn-default' onClick={save}>\n                    Save\n                  </Button>\n                ) : (\n                  ''\n                )}\n                {editor ? (\n                  <Button\n                    className='btn btn-default'\n                    onClick={() => setEditor(false)}\n                  >\n                    Cancel\n                  </Button>\n                ) : (\n                  ''\n                )}\n              </div>\n              <Comments storyId={storyId} />\n            </div>\n          </div>\n        </>\n      ) : (\n        ''\n      )}\n    </>\n  )\n}\n\nexport default Story\n","import React, { useState, useEffect, useRef, useContext } from 'react'\nimport { apiURL } from '../config.json'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport { Helmet } from 'react-helmet'\n\nimport axios from 'axios'\n\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport Button from '../components/Button'\nimport StoriesList from '../components/StoriesList'\nimport Navigation from '../components/Navigation'\nimport Dropdown from '../components/Dropdown'\n\nimport Lists from '../utils/Lists'\nimport Context from '../modules/Context'\nimport Login from './Login'\n\nconst MyStories = () => {\n  const { state } = useContext(Context)\n\n  const [stories, setStories] = useState([])\n\n  const [currentStateSelected, selectState] = useState('My Submissions')\n\n  const [storyStateSelected, selectStoryState] = useState('Under consideration')\n\n  const [product, setProduct] = useState('All')\n  const [sort, setSort] = useState('Most Voted')\n  const [category, setCategory] = useState('All')\n\n  const productDropdownContainer = useRef()\n  const sortDropdownContainer = useRef()\n  const categoryDropdownContainer = useRef()\n\n  const [categories, setCategories] = useState([])\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  const id = localStorage.getItem('id')\n\n  const [products, setProducts] = useState([])\n\n  useEffect(() => {\n    const comparatorVotes = (a, b) => {\n      return a.followers.length > b.followers.length ? -1 : 1\n    }\n    const comparatorComments = (a, b) => {\n      return a.user_story_comments.length > b.user_story_comments.length\n        ? -1\n        : 1\n    }\n\n    const updateStories = async () => {\n      if (sort === 'Most Voted') {\n        setStories(stories.sort(comparatorVotes))\n      }\n      if (sort === 'Most Discussed') {\n        setStories(stories.sort(comparatorComments))\n      }\n    }\n    trackPromise(updateStories())\n  }, [sort, stories, setStories])\n\n  useEffect(() => {\n    const fetchMyStories = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n            userStories(where: { author: \"${id}\" }) {\n              id\n              Title\n              Description\n              followers {\n                id\n                username\n              }\n              user_story_comments {\n                Comments\n              }\n              product {\n                Name\n              }\n              author {\n                id\n                username\n              }\n              user_story_status {\n                Status\n              }\n              Category\n            }\n          }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setStories(response.data.data.userStories)\n    }\n    const fetchFollowingStories = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n            userStories(where: { followers: \"${id}\" }) {\n              id\n              Title\n              Description\n              followers {\n                id\n              }\n              user_story_comments {\n                Comments\n              }\n              product {\n                Name\n              }\n              author {\n                id\n                username\n              }\n              user_story_status {\n                Status\n              }\n            }\n          }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setStories(response.data.data.userStories)\n    }\n    if (currentStateSelected === 'My Submissions')\n      trackPromise(fetchMyStories())\n    else trackPromise(fetchFollowingStories())\n  }, [currentStateSelected, id])\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n          products {\n            Name\n          }\n        }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setProducts(\n        response.data.data.products.map((ele) => {\n          return ele.Name\n        })\n      )\n      setProducts((products) => ['All', ...products])\n    }\n    trackPromise(fetchProducts())\n  }, [id])\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      const response = await axios.post(`${apiURL}/graphql`, {\n        query: '{ __type(name: \"ENUM_USERSTORY_CATEGORY\") {enumValues {name}}}'\n      })\n\n      setCategories(\n        response.data.data.__type.enumValues.map((ele) => {\n          return ele.name\n        })\n      )\n      setCategories((categories) => ['All', ...categories])\n    }\n    trackPromise(fetchCategories())\n  }, [])\n\n  return state.auth ? (\n    <>\n      <Helmet>\n        <title>My stories | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      <div className='body-content'>\n        <div className='body-wrapper my-stories'>\n          <h3>My Stories</h3>\n          <div className='flex flex-row'>\n            <Button\n              className={\n                currentStateSelected === 'My Submissions'\n                  ? 'btn btn-tabs btn-tabs-selected'\n                  : 'btn btn-tabs'\n              }\n              onClick={() => selectState('My Submissions')}\n            >\n              My Submissions\n            </Button>\n            &nbsp; &nbsp;\n            <Button\n              className={\n                currentStateSelected === 'Following'\n                  ? 'btn btn-tabs btn-tabs-selected'\n                  : 'btn btn-tabs'\n              }\n              onClick={() => selectState('Following')}\n            >\n              Following\n            </Button>\n          </div>\n          <div className='flex flex-row flex-space-between'>\n            {Lists.stateList &&\n              Lists.stateList.map((state, key) => {\n                return (\n                  <Button\n                    className={\n                      storyStateSelected === state.status\n                        ? 'btn btn-tabs btn-tabs-selected'\n                        : 'btn btn-tabs'\n                    }\n                    key={key}\n                    onClick={() => selectStoryState(state.status)}\n                  >\n                    <i className='eos-icons'>{state.icon}</i>\n                    {state.status}\n                  </Button>\n                )\n              })}\n          </div>\n          <div className='flex flex-row options-bar'>\n            <Dropdown\n              title='Product'\n              reference={productDropdownContainer}\n              curr={product}\n              setCurr={setProduct}\n              itemList={products}\n            />\n            <Dropdown\n              title='Categories'\n              reference={categoryDropdownContainer}\n              curr={category}\n              setCurr={setCategory}\n              itemList={categories}\n            />\n            <Dropdown\n              title='Sort By'\n              reference={sortDropdownContainer}\n              curr={sort}\n              setCurr={setSort}\n              itemList={Lists.sortByList}\n            />\n          </div>\n          {promiseInProgress ? (\n            <LoadingIndicator />\n          ) : (\n            <div className='flex flex-column'>\n              <StoriesList\n                stories={stories}\n                state={storyStateSelected}\n                product={product}\n              />\n            </div>\n          )}\n        </div>\n      </div>\n    </>\n  ) : (\n    <Login message='Please login to access your stories' />\n  )\n}\n\nexport default MyStories\n","import React, { useState } from 'react'\n\nexport const EditableLabel = ({\n  name,\n  value,\n  type,\n  handleInputChange,\n  updateProfile,\n  children,\n  allowEditing,\n  ...props\n}) => {\n  const [editMode, setEditMode] = useState(false)\n\n  const ComponentToRender = (type) => {\n    switch (type) {\n      case 'text': {\n        return (\n          <TextInput\n            onChange={handleInputChange}\n            defaultValue={value}\n            onKeyPress={(e) => {\n              handleInputChange(e)\n\n              if (e.key === 'Enter') {\n                updateProfile()\n                setEditMode(!editMode)\n              }\n            }}\n            name={name}\n            {...props}\n          />\n        )\n      }\n      case 'textArea': {\n        return (\n          <TextArea\n            onChange={handleInputChange}\n            defaultValue={value}\n            onKeyPress={handleInputChange}\n            name={name}\n          />\n        )\n      }\n      default: {\n        return 'No component was found'\n      }\n    }\n  }\n  return (\n    <div className='editable-label'>\n      {!editMode && (\n        <>\n          {children}\n          {allowEditing && (\n            <button\n              className='editable-label-edit-btn'\n              onClick={() => setEditMode(!editMode)}\n            >\n              <i className='eos-icons'>mode_edit</i>\n            </button>\n          )}\n        </>\n      )}\n      {editMode && (\n        <>\n          {ComponentToRender(type)}\n          <button\n            onClick={() => {\n              setEditMode(!editMode)\n              updateProfile()\n            }}\n          >\n            <i className='eos-icons'>save</i>\n          </button>\n        </>\n      )}\n    </div>\n  )\n}\n\nconst TextInput = (props) => {\n  return <input className='input-default' type='text' {...props} />\n}\n\nconst TextArea = (props) => {\n  return <textarea type='text' {...props} rows={4} cols={60} />\n}\n\nexport default EditableLabel\n","import React from 'react'\nimport EditableLabel from './EditableLabel'\n\nexport const UserProfile = ({\n  children,\n  allowEditing,\n  user,\n  handleInputChange,\n  updateProfile\n}) => {\n  return (\n    <>\n      <div className='user-profile margin-top-xxl margin-bottom-m'>\n        <UserAvatar\n          avatarURL={\n            user?.profilePicture?.url ??\n            'https://avatars.dicebear.com/api/jdenticon/eos.svg'\n          }\n        />\n        <UserDetails\n          user={user}\n          handleInputChange={handleInputChange}\n          updateProfile={updateProfile}\n          allowEditing={allowEditing}\n        />\n      </div>\n      {allowEditing && <UserSettings user={user} />}\n    </>\n  )\n}\n\nexport const UserAvatar = ({ avatarURL }) => {\n  return (\n    <div className='user-profile-avatar'>\n      <img src={avatarURL} alt='User avatar' />\n    </div>\n  )\n}\n\nexport const UserSettings = ({ user }) => {\n  return (\n    <div className='user-profile-settings'>\n      <ul>\n        <li>\n          Email address:\n          <span>{user?.email}</span>\n        </li>\n        <li>\n          Username:\n          <span>{user?.username}</span>\n        </li>\n        <li>\n          <a className='link link-default' href='/changePassword'>\n            Change password\n          </a>\n        </li>\n      </ul>\n    </div>\n  )\n}\n\nexport const UserDetails = ({\n  user,\n  handleInputChange,\n  allowEditing,\n  updateProfile\n}) => {\n  return (\n    <div className='user-profile-details'>\n      <EditableLabel\n        type='text'\n        name={'Name'}\n        value={user.Name ?? user.username}\n        className='input-default'\n        handleInputChange={handleInputChange}\n        allowEditing={allowEditing}\n        updateProfile={updateProfile}\n      >\n        <h2 className='user-profile-name'>{user.Name ?? user.username}</h2>\n      </EditableLabel>\n      <EditableLabel\n        type='textArea'\n        name={'Bio'}\n        value={user.Bio}\n        handleInputChange={handleInputChange}\n        allowEditing={allowEditing}\n        updateProfile={updateProfile}\n      >\n        <p>{user?.Bio ?? 'Not defined yet'}</p>\n      </EditableLabel>\n\n      <div className='user-profile-extra'>\n        <ul>\n          <li>\n            Profession\n            <EditableLabel\n              type='text'\n              name={'Profession'}\n              value={user.Profession}\n              handleInputChange={handleInputChange}\n              allowEditing={allowEditing}\n              updateProfile={updateProfile}\n            >\n              <span>{user?.Profession ?? 'as'}</span>\n            </EditableLabel>\n          </li>\n          <li>\n            Company\n            <EditableLabel\n              type='text'\n              name={'Company'}\n              value={user.Company}\n              handleInputChange={handleInputChange}\n              allowEditing={allowEditing}\n              updateProfile={updateProfile}\n            >\n              <span>{user?.Company}</span>\n            </EditableLabel>\n          </li>\n          <li>\n            LinkedIn\n            <EditableLabel\n              type='text'\n              name={'LinkedIn'}\n              value={user.LinkedIn}\n              handleInputChange={handleInputChange}\n              allowEditing={allowEditing}\n              updateProfile={updateProfile}\n            >\n              <a\n                className='link link-default'\n                href={`https://www.linkedin.com/in/${user?.LinkedIn}`}\n                target='_blank'\n                rel='noopener noreferrer'\n              >\n                {user?.LinkedIn}\n              </a>\n            </EditableLabel>\n          </li>\n          <li>\n            Twitter\n            <EditableLabel\n              type='text'\n              name={'Twitter'}\n              value={user.Twitter}\n              handleInputChange={handleInputChange}\n              allowEditing={allowEditing}\n              updateProfile={updateProfile}\n            >\n              <span>\n                <a\n                  className='link link-default'\n                  href={`https://twitter.com/${user?.Twitter}`}\n                  target='_blank'\n                  rel='noopener noreferrer'\n                >\n                  {user?.Twitter ? `@${user?.Twitter}` : ''}\n                </a>\n              </span>\n            </EditableLabel>\n          </li>\n        </ul>\n      </div>\n    </div>\n  )\n}\n\nexport default UserProfile\n","import React, { useEffect, useState, useContext } from 'react'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport { Helmet } from 'react-helmet'\n\nimport Navigation from '../components/Navigation'\nimport Context from '../modules/Context'\nimport Login from './Login'\nimport UserProfile from '../components/UserProfile'\n\nconst MyProfile = () => {\n  const userId = localStorage.getItem('id')\n\n  const { state } = useContext(Context)\n\n  const [user, setUser] = useState('')\n\n  const [, setUpdated] = useState(false)\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  const handleInputChange = (event) => {\n    setUser({\n      ...user,\n      [event.target.name]: event.target.value\n    })\n  }\n\n  const updateProfile = async () => {\n    const response = await axios.post(\n      `${apiURL}/graphql`,\n      {\n        query: `mutation {\n        updateUser(input: {\n          where: {\n            id: \"${userId}\"\n          }\n          data: {\n            Name: \"${user.Name}\"\n            Profession: \"${user.Profession}\"\n            Company: \"${user.Company}\"\n            LinkedIn: \"${user.LinkedIn}\"\n            Twitter: \"${user.Twitter}\"\n            Bio: \"${user.Bio}\"\n          }\n        }) {\n          user {\n            username\n          }\n        }\n      }`\n      },\n      {\n        withCredentials: true\n      }\n    )\n    if (response) {\n      setUpdated(true)\n    }\n  }\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n          user(id: \"${userId}\") {\n            profilePicture {\n              url\n            }\n            Name\n            Bio\n            username\n            Company\n            Profession\n            email\n            LinkedIn\n            Twitter\n          }\n        }\n        `\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setUser(response.data.data.user)\n    }\n    if (userId) {\n      trackPromise(fetchUserInfo())\n    }\n  }, [userId])\n\n  return state.auth ? (\n    <>\n      <Helmet>\n        <title>My profile | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : (\n        <div className='body-content'>\n          <div className='body-wrapper'>\n            <div className='flex flex-row'>\n              <div className='flex flex-column'>\n                <UserProfile\n                  user={user}\n                  handleInputChange={handleInputChange}\n                  updateProfile={updateProfile}\n                  allowEditing\n                >\n                  <h1>Hello world</h1>\n                </UserProfile>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  ) : (\n    <Login message='Please login to access your profile' />\n  )\n}\n\nexport default MyProfile\n","import React from 'react'\nimport Button from '../components/Button'\nimport { navigate } from '@reach/router'\nimport { Helmet } from 'react-helmet'\n\nconst Page404 = () => {\n  return (\n    <>\n      <Helmet>\n        <title>404 Not Found | EOS User story</title>\n      </Helmet>\n\n      <div className='body-content'>\n        <div className='body-wrapper pg-404'>\n          <svg\n            className='svg-right flex flex-column'\n            width='121'\n            height='240'\n            viewBox='0 0 121 240'\n            fill='none'\n            xmlns='http://www.w3.org/2000/svg'\n          >\n            <g id='g-right'>\n              <path\n                id='r-4'\n                d='M120 240H75C66.72 240 60 233.28 60 225V180H105C113.28 180 120 186.72 120 195V240Z'\n                fill='#0AA5A5'\n              />\n              <path\n                id='r-2'\n                d='M61 120H106C114.28 120 121 113.28 121 105V60H76C67.72 60 61 66.72 61 75V120Z'\n                fill='#0AA5A5'\n              />\n              <path\n                id='r-3'\n                d='M0 180H45C53.28 180 60 173.28 60 165V120H15C6.72 120 0 126.72 0 135V180Z'\n                fill='#00CCD1'\n              />\n              <path\n                id='r-1'\n                d='M60 60H15C6.72 60 0 53.28 0 45V0H45C53.28 0 60 6.72 60 15V60Z'\n                fill='#00CCD1'\n              />\n            </g>\n          </svg>\n\n          <h1 className='heading-404'>404</h1>\n          <hr className='hr-404' />\n          <p className='p-404'>\n            The page you are looking for could not be found.\n          </p>\n          <Button\n            className='btn btn-default btn-404'\n            onClick={() => navigate('/')}\n          >\n            Back to Home\n          </Button>\n\n          <svg\n            className='svg-left flex flex-column'\n            width='121'\n            height='240'\n            viewBox='0 0 121 240'\n            fill='none'\n            xmlns='http://www.w3.org/2000/svg'\n          >\n            <g id='g-left'>\n              <path\n                id='l-4'\n                d='M120 240H75C66.72 240 60 233.28 60 225V180H105C113.28 180 120 186.72 120 195V240Z'\n                fill='#1A2A3A'\n              />\n              <path\n                id='l-2'\n                d='M61 120H106C114.28 120 121 113.28 121 105V60H76C67.72 60 61 66.72 61 75V120Z'\n                fill='#1A2A3A'\n              />\n              <path\n                id='l-3'\n                d='M0 180H45C53.28 180 60 173.28 60 165V120H15C6.72 120 0 126.72 0 135V180Z'\n                fill='#00CCD1'\n              />\n              <path\n                id='l-1'\n                d='M60 60H15C6.72 60 0 53.28 0 45V0H45C53.28 0 60 6.72 60 15V60Z'\n                fill='#00CCD1'\n              />\n            </g>\n          </svg>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Page404\n","import React, { useState, useEffect, useRef } from 'react'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport { Helmet } from 'react-helmet'\n\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport StoriesList from '../components/StoriesList'\nimport Navigation from '../components/Navigation'\nimport Button from '../components/Button'\nimport Dropdown from '../components/Dropdown'\nimport UserProfile from '../components/UserProfile'\nimport Lists from '../utils/Lists'\n\nconst Profile = (props) => {\n  const { profileId } = props\n  const [stories, setStories] = useState([])\n  const [user, setUser] = useState('')\n\n  const [currentStateSelected, selectState] = useState('Under consideration')\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  const productDropdownContainer = useRef()\n  const sortDropdownContainer = useRef()\n  const categoryDropdownContainer = useRef()\n\n  const [product, setProduct] = useState('All')\n  const [sort, setSort] = useState('Most Voted')\n  const [category, setCategory] = useState('All')\n\n  const [products, setProducts] = useState([])\n  const [categories, setCategories] = useState([])\n\n  useEffect(() => {\n    const fetchProducts = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n          products {\n            Name\n          }\n        }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setProducts(\n        response.data.data.products.map((ele) => {\n          return ele.Name\n        })\n      )\n      setProducts((products) => ['All', ...products])\n    }\n    fetchProducts()\n  }, [])\n\n  useEffect(() => {\n    const fetchCategories = async () => {\n      const response = await axios.post(`${apiURL}/graphql`, {\n        query: '{ __type(name: \"ENUM_USERSTORY_CATEGORY\") {enumValues {name}}}'\n      })\n\n      setCategories(\n        response.data.data.__type.enumValues.map((ele) => {\n          return ele.name\n        })\n      )\n      setCategories((categories) => ['All', ...categories])\n    }\n    trackPromise(fetchCategories())\n  }, [])\n\n  useEffect(() => {\n    const fetchUserInfo = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n          user(id: \"${profileId}\") {\n            profilePicture {\n              url\n            }\n            Name\n            Bio\n            username\n            Company\n            Profession\n            email\n            LinkedIn\n            Twitter\n          }\n        }\n        `\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setUser(response.data.data.user)\n    }\n    if (profileId) {\n      trackPromise(fetchUserInfo())\n    }\n  }, [profileId])\n\n  useEffect(() => {\n    const fetchMyStories = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n            user(id: \"${profileId}\") {\n              user_stories {\n                id\n                Title\n                Description\n                user_story_status {\n                  Status\n                }\n                followers {\n                  username\n                }\n                product {\n                  Name\n                }\n                author {\n                  id\n                  username\n                }\n                user_story_comments {\n                  Comments\n                }\n                Category\n              }\n            }\n          }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setStories(response.data.data.user.user_stories)\n    }\n    trackPromise(fetchMyStories())\n  }, [profileId])\n\n  useEffect(() => {\n    const comparatorVotes = (a, b) => {\n      return a.followers.length > b.followers.length ? -1 : 1\n    }\n    const comparatorComments = (a, b) => {\n      return a.user_story_comments.length > b.user_story_comments.length\n        ? -1\n        : 1\n    }\n\n    const updateStories = async () => {\n      if (sort === 'Most Voted') {\n        setStories(stories.sort(comparatorVotes))\n      }\n      if (sort === 'Most Discussed') {\n        setStories(stories.sort(comparatorComments))\n      }\n    }\n    trackPromise(updateStories())\n  }, [sort, stories, setStories])\n\n  return (\n    <>\n      <Helmet>\n        <title>{`${user.username} | EOS User story`}</title>\n        <meta name='description' content={`${user.Bio}`} />\n        <meta name='keywords' content='user story, issue tracker' />\n      </Helmet>\n      <Navigation />\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : (\n        <div className='body-content'>\n          <div className='body-wrapper'>\n            <div className='flex flex-row flex-space-around'>\n              <div className='flex flex-column'>\n                <UserProfile user={user} />\n              </div>\n            </div>\n            {\n              <div className='flex flex-column'>\n                <h3>Stories by this user</h3>\n                <div className='flex flex-row options-bar'>\n                  <Dropdown\n                    title='Product'\n                    reference={productDropdownContainer}\n                    curr={product}\n                    setCurr={setProduct}\n                    itemList={products}\n                  />\n                  <Dropdown\n                    title='Categories'\n                    reference={categoryDropdownContainer}\n                    curr={category}\n                    setCurr={setCategory}\n                    itemList={categories}\n                  />\n                  <Dropdown\n                    title='Sort By'\n                    reference={sortDropdownContainer}\n                    curr={sort}\n                    setCurr={setSort}\n                    itemList={Lists.sortByList}\n                  />\n                </div>\n                <div className='flex flex-row flex-space-between'>\n                  {Lists.stateList &&\n                    Lists.stateList.map((state, key) => {\n                      return (\n                        <Button\n                          className={\n                            currentStateSelected === state.status\n                              ? 'btn btn-tabs btn-tabs-selected'\n                              : 'btn btn-tabs'\n                          }\n                          key={key}\n                          onClick={() => selectState(state.status)}\n                        >\n                          <i className='eos-icons'>{state.icon}</i>\n                          {state.status}\n                        </Button>\n                      )\n                    })}\n                </div>\n                <StoriesList\n                  stories={stories}\n                  state={currentStateSelected}\n                  product={product}\n                />\n              </div>\n            }\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Profile\n","import React, { useState, useContext } from 'react'\nimport { useForm } from 'react-hook-form'\n\nimport { Link, useLocation } from '@reach/router'\nimport { useTranslation } from 'react-i18next'\nimport { Helmet } from 'react-helmet'\n\nimport Button from '../components/Button'\nimport useAuth from '../hooks/useAuth'\nimport FormError from '../components/FormError'\nimport Context from '../modules/Context'\nimport AuthWrapper, {\n  AuthLeftContainer,\n  AuthRightContainer\n} from '../components/AuthWrapper'\n\nconst ChangePassword = () => {\n  const { t } = useTranslation()\n\n  const { state } = useContext(Context)\n\n  const { resetPassword } = useAuth()\n\n  const { register, handleSubmit, errors } = useForm()\n\n  const location = useLocation()\n\n  const [response, setResponse] = useState('')\n\n  const onSubmit = async (data) => {\n    try {\n      const reply = await resetPassword({\n        code: location.search.slice(6),\n        password: data.password,\n        passwordConfirmation: data.passwordConfirmation\n      })\n      setResponse(reply)\n    } catch (e) {}\n  }\n\n  return (\n    <>\n      <Helmet>\n        <title>Change your password | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <AuthWrapper>\n        <AuthLeftContainer />\n        <AuthRightContainer>\n          <div>\n            {response ? (\n              <>\n                <div className='header'>\n                  {t('authentication:forgot-password')}\n                </div>\n                <p>Your password has been reset.</p>\n                <div className='flex flex-row flex-space-between'>\n                  <Link className='link link-default' to='/login'>\n                    {t('authentication:reset-password-done')}\n                  </Link>\n                </div>\n              </>\n            ) : (\n              <>\n                {state.errorCode && <FormError status={state.errorCode} />}\n                <form\n                  className='form-default'\n                  onSubmit={handleSubmit(onSubmit)}\n                >\n                  <div className='header'>\n                    {t('authentication:reset-password')}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='password'>\n                      {t('authentication:old-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='oldPassword'\n                      ref={register({ required: true })}\n                    />\n                    {errors.oldPassword && (\n                      <FormError type={errors.oldPassword.type} />\n                    )}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='password'>\n                      {t('authentication:new-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='password'\n                      ref={register({ required: true })}\n                    />\n                    {errors.password && (\n                      <FormError type={errors.password.type} />\n                    )}\n                  </div>\n                  <div className='form-element'>\n                    <label htmlFor='confirm-password'>\n                      {t('authentication:confirm-password')}\n                    </label>\n                    <input\n                      className='input-default'\n                      type='password'\n                      name='passwordConfirmation'\n                      ref={register({ required: true })}\n                    />\n                    {errors.passwordConfirmation && (\n                      <FormError type={errors.passwordConfirmation.type} />\n                    )}\n                  </div>\n                  <Button type='submit' className='btn btn-default'>\n                    {t('authentication:submit-label')}\n                  </Button>\n                </form>\n              </>\n            )}\n          </div>\n        </AuthRightContainer>\n      </AuthWrapper>\n    </>\n  )\n}\n\nexport default ChangePassword\n","import React, { useState, useEffect } from 'react'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport Navigation from '../components/Navigation'\nimport ReactMarkdown from 'react-markdown'\nimport { Helmet } from 'react-helmet'\n\nconst Policies = () => {\n  const [policies, setPolicies] = useState('')\n\n  useEffect(() => {\n    const fetchPolicies = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n                    userStoryPolicies {\n                      Description\n                    }\n                  }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setPolicies(response.data.data.userStoryPolicies[0].Description)\n    }\n    fetchPolicies()\n  }, [])\n\n  return (\n    <>\n      <Helmet>\n        <title>Cookie & Privacy Policies | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      <div className='body-content'>\n        <div className='body-wrapper'>\n          <ReactMarkdown>{policies && `${policies}`}</ReactMarkdown>\n        </div>\n      </div>\n    </>\n  )\n}\n\nexport default Policies\n","import React, { useState, useEffect } from 'react'\nimport { trackPromise, usePromiseTracker } from 'react-promise-tracker'\nimport { navigate } from '@reach/router'\n\nimport Navigation from '../components/Navigation'\nimport LoadingIndicator from '../modules/LoadingIndicator'\nimport axios from 'axios'\nimport { apiURL } from '../config.json'\nimport { Helmet } from 'react-helmet'\n\nconst Notifications = () => {\n  const userId = localStorage.getItem('id')\n\n  const [notifications, setNotifications] = useState([])\n\n  const { promiseInProgress } = usePromiseTracker()\n\n  useEffect(() => {\n    const fetchNotifications = async () => {\n      const response = await axios.post(\n        `${apiURL}/graphql`,\n        {\n          query: `query {\n          userStoryNotifications (where: {\n            users: {\n              id: \"${userId}\"\n            }\n          }){\n            message\n            id\n            users {\n              id\n            }\n            seenBy {\n              id\n            }\n            date\n            link\n          }\n        }`\n        },\n        {\n          withCredentials: true\n        }\n      )\n      setNotifications(response.data.data.userStoryNotifications)\n    }\n    trackPromise(fetchNotifications())\n  }, [userId])\n\n  return (\n    <>\n      <Helmet>\n        <title>Notifications | EOS User story</title>\n        <meta name='robots' content='noindex' />\n      </Helmet>\n      <Navigation />\n      {promiseInProgress ? (\n        <LoadingIndicator />\n      ) : (\n        <div className='body-content'>\n          <div className='body-wrapper'>\n            <h3>Notifications</h3>\n            <div className='flex flex-column'>\n              {notifications.length > 0 ? (\n                notifications.map((ele, key) => {\n                  return (\n                    <div\n                      className='notification'\n                      key={key}\n                      onClick={() => navigate(`/${ele.link}`)}\n                    >\n                      <div className='notification-text'>{ele.message}</div>\n                      <div className='notification-text'>\n                        {`${ele.date.slice(0, 10)}  ${ele.date.slice(11, 19)}`}\n                      </div>\n                    </div>\n                  )\n                })\n              ) : (\n                <div className='notification'>\n                  <div className='notification-text'>\n                    No notifications at the moment\n                  </div>\n                </div>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </>\n  )\n}\n\nexport default Notifications\n","export const ContextReducer = (state, action) => {\n  switch (action.type) {\n    case 'AUTHENTICATE':\n      return {\n        ...state,\n        auth: true\n      }\n    case 'DEAUTHENTICATE':\n      return {\n        ...state,\n        auth: false\n      }\n    case 'ERROR':\n      return {\n        ...state,\n        errorCode: action.payload\n      }\n    default:\n      return state\n  }\n}\n\nexport default ContextReducer\n","import React from 'react'\n\nexport default () => {\n  return (\n    <div className='footer-main'>\n      <a className='link link-default' href='/policies'>\n        Cookies and Privacy policy\n      </a>\n\n      <p>We only use strictly necessary cookies</p>\n    </div>\n  )\n}\n","import React, { useEffect, useReducer } from 'react'\nimport { Router } from '@reach/router'\n\nimport '../node_modules/eos-icons/dist/css/eos-icons.css'\nimport './assets/scss/index.scss'\n\nimport Home from './pages/Home'\nimport Login from './pages/Login'\nimport Register from './pages/Register'\nimport ForgotPassword from './pages/ForgotPassword'\nimport ResetPassword from './pages/ResetPassword'\nimport NewStory from './pages/NewStory'\nimport Story from './pages/Story'\nimport MyStories from './pages/MyStories'\nimport MyProfile from './pages/MyProfile'\nimport Page404 from './pages/Page404'\nimport Profile from './pages/Profile'\nimport ChangePassword from './pages/ChangePassword'\nimport Policies from './pages/Policies'\nimport Notifications from './pages/Notifications'\nimport Context from './modules/Context'\nimport ContextReducer from './modules/ContextReducer'\nimport Footer from './components/Footer'\n\nconst initialState = {\n  auth: false,\n  errorCode: null\n}\n\nconst App = () => {\n  const [state, dispatch] = useReducer(ContextReducer, initialState)\n\n  const userId = localStorage.getItem('id')\n\n  useEffect(() => {\n    window.addEventListener('storage', (e) => {\n      if (localStorage.getItem('id')) {\n        dispatch({\n          type: 'AUTHENTICATE'\n        })\n      } else {\n        dispatch({\n          type: 'DEAUTHENTICATE'\n        })\n      }\n    })\n  }, [])\n\n  useEffect(() => {\n    if (userId) {\n      dispatch({\n        type: 'AUTHENTICATE'\n      })\n    } else {\n      dispatch({\n        type: 'DEAUTHENTICATE'\n      })\n    }\n  }, [userId])\n\n  return (\n    <Context.Provider value={{ state, dispatch }}>\n      <Router>\n        <Home path='/' />\n        <Register path='/register' />\n        <Login path='/login' />\n        <ForgotPassword path='/forgotPassword' />\n        <ResetPassword path='/resetPassword' />\n        <NewStory path='/newStory' />\n        <Story path='/story/:storyId' />\n        <MyStories path='/myStories' />\n        <MyProfile path='/myProfile' />\n        <Profile path='/profile/:profileId' />\n        <Notifications path='/notifications' />\n        <ChangePassword path='/changePassword' />\n        <Policies path='/policies' />\n        <Page404 default />\n      </Router>\n      <Footer />\n    </Context.Provider>\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport commonES from '../translations/es/common.json'\nimport commonEN from '../translations/en/common.json'\n\n// the translations\n// (tip move them in a JSON file and import them)\nconst resources = {\n  en: commonEN,\n  es: commonES\n}\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: 'en',\n\n    keySeparator: false, // we do not use keys in form messages.welcome\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  })\n\nexport default i18n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { BrowserRouter } from 'react-router-dom'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\nimport './modules/i18n.js'\n\nReactDOM.render(\n  <BrowserRouter>\n    <App />\n  </BrowserRouter>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports = __webpack_public_path__ + \"static/media/user-story-logo.ed111364.svg\";","module.exports = \"data:image/png;base64,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\""],"sourceRoot":""}